/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@wordpress/icons/build-module/library/arrow-left.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/arrow-left.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);
/**
 * WordPress dependencies
 */


const arrowLeft = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (arrowLeft);
//# sourceMappingURL=arrow-left.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/more-vertical.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/more-vertical.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);
/**
 * WordPress dependencies
 */


const moreVertical = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (moreVertical);
//# sourceMappingURL=more-vertical.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/rotate-right.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/rotate-right.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);
/**
 * WordPress dependencies
 */


const rotateRight = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (rotateRight);
//# sourceMappingURL=rotate-right.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/trash.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/trash.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);
/**
 * WordPress dependencies
 */


const trash = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (trash);
//# sourceMappingURL=trash.js.map

/***/ }),

/***/ "./node_modules/file-saver/dist/FileSaver.min.js":
/*!*******************************************************!*\
  !*** ./node_modules/file-saver/dist/FileSaver.min.js ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(a,b){if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (b),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else // removed by dead control flow
{}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof __webpack_require__.g&&__webpack_require__.g.global===__webpack_require__.g?__webpack_require__.g:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g, true&&(module.exports=g)});

//# sourceMappingURL=FileSaver.min.js.map

/***/ }),

/***/ "./node_modules/papaparse/papaparse.min.js":
/*!*************************************************!*\
  !*** ./node_modules/papaparse/papaparse.min.js ***!
  \*************************************************/
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/
((e,t)=>{ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0})(this,function r(){var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{};var d,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},h=0,v={};function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(t,e){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let e=this._config.newline;e||(r=this._config.quoteChar||'"',e=this._handle.guessLineEndings(t,r)),t=[...t.split(e).slice(i)].join(e)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&void 0!==(r=this._config.beforeFirstChunk(t))&&(t=r),this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+t,r=(this._partialLine="",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){t=r.meta.cursor,i=(this._finished||(this._partialLine=i.substring(t-this._baseIndex),this._baseIndex=t),r&&r.data&&(this._rowCount+=r.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview);if(a)n.postMessage({results:r,workerId:v.WORKER_ID,finished:i});else if(U(this._config.chunk)&&!e){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!i||!U(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:v.WORKER_ID,error:e,finished:!1})}}function f(e){var r;(e=e||{}).chunkSize||(e.chunkSize=v.RemoteChunkSize),u.call(this,e),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),s||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var e,t=this._config.downloadRequestHeaders;for(e in t)r.setRequestHeader(e,t[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,r.setRequestHeader("Range","bytes="+this._start+"-"+i));try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}s&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize||r.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){e=r.statusText||e;this._sendError(new Error(e))}}function l(e){(e=e||{}).chunkSize||(e.chunkSize=v.LocalChunkSize),u.call(this,e);var i,r,n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((i=new FileReader).onload=y(this._chunkLoaded,this),i.onerror=y(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,t=(this._config.chunkSize&&(t=Math.min(this._start+this._config.chunkSize,this._input.size),e=r.call(e,this._start,t)),i.readAsText(e,this._config.encoding));n||this._chunkLoaded({target:{result:t}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(i.error)}}function c(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){var e,t;if(!this._finished)return e=this._config.chunkSize,i=e?(t=i.substring(0,e),i.substring(e)):(t=i,""),this._finished=!i,this.parseChunk(t)}}function p(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function i(m){var n,s,a,t,o=Math.pow(2,53),h=-o,u=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,d=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,i=this,r=0,f=0,l=!1,e=!1,c=[],p={data:[],errors:[],meta:{}};function y(e){return"greedy"===m.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function g(){if(p&&a&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),a=!1),m.skipEmptyLines&&(p.data=p.data.filter(function(e){return!y(e)})),_()){if(p)if(Array.isArray(p.data[0])){for(var e=0;_()&&e<p.data.length;e++)p.data[e].forEach(t);p.data.splice(0,1)}else p.data.forEach(t);function t(e,t){U(m.transformHeader)&&(e=m.transformHeader(e,t)),c.push(e)}}function i(e,t){for(var i=m.header?{}:[],r=0;r<e.length;r++){var n=r,s=e[r],s=((e,t)=>(e=>(m.dynamicTypingFunction&&void 0===m.dynamicTyping[e]&&(m.dynamicTyping[e]=m.dynamicTypingFunction(e)),!0===(m.dynamicTyping[e]||m.dynamicTyping)))(e)?"true"===t||"TRUE"===t||"false"!==t&&"FALSE"!==t&&((e=>{if(u.test(e)){e=parseFloat(e);if(h<e&&e<o)return 1}})(t)?parseFloat(t):d.test(t)?new Date(t):""===t?null:t):t)(n=m.header?r>=c.length?"__parsed_extra":c[r]:n,s=m.transform?m.transform(s,n):s);"__parsed_extra"===n?(i[n]=i[n]||[],i[n].push(s)):i[n]=s}return m.header&&(r>c.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+c.length+" fields but parsed "+r,f+t):r<c.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+c.length+" fields but parsed "+r,f+t)),i}var r;p&&(m.header||m.dynamicTyping||m.transform)&&(r=1,!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(i),r=p.data.length):p.data=i(p.data,0),m.header&&p.meta&&(p.meta.fields=c),f+=r)}function _(){return m.header&&0===c.length}function k(e,t,i,r){e={type:e,code:t,message:i};void 0!==r&&(e.row=r),p.errors.push(e)}U(m.step)&&(t=m.step,m.step=function(e){p=e,_()?g():(g(),0!==p.data.length&&(r+=e.data.length,m.preview&&r>m.preview?s.abort():(p.data=p.data[0],t(p,i))))}),this.parse=function(e,t,i){var r=m.quoteChar||'"',r=(m.newline||(m.newline=this.guessLineEndings(e,r)),a=!1,m.delimiter?U(m.delimiter)&&(m.delimiter=m.delimiter(e),p.meta.delimiter=m.delimiter):((r=((e,t,i,r,n)=>{var s,a,o,h;n=n||[",","\t","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var u=0;u<n.length;u++){for(var d,f=n[u],l=0,c=0,p=0,g=(o=void 0,new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e)),_=0;_<g.data.length;_++)i&&y(g.data[_])?p++:(d=g.data[_].length,c+=d,void 0===o?o=d:0<d&&(l+=Math.abs(d-o),o=d));0<g.data.length&&(c/=g.data.length-p),(void 0===a||l<=a)&&(void 0===h||h<c)&&1.99<c&&(a=l,s=f,h=c)}return{successful:!!(m.delimiter=s),bestDelimiter:s}})(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=r.bestDelimiter:(a=!0,m.delimiter=v.DefaultDelimiter),p.meta.delimiter=m.delimiter),b(m));return m.preview&&m.header&&r.preview++,n=e,s=new E(r),p=s.parse(n,t,i),g(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,s.abort(),n=U(m.chunk)?"":n.substring(s.getCharIndex())},this.resume=function(){i.streamer._halted?(l=!1,i.streamer.parseChunk(n,!0)):setTimeout(i.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,s.abort(),p.meta.aborted=!0,U(m.complete)&&m.complete(p),n=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=new RegExp(P(t)+"([^]*?)"+P(t),"gm"),i=(e=e.replace(t,"")).split("\r"),t=e.split("\n"),e=1<t.length&&t[0].length<i[0].length;if(1===i.length||e)return"\n";for(var r=0,n=0;n<i.length;n++)"\n"===i[n][0]&&r++;return r>=i.length/2?"\r\n":"\r"}}function P(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(C){var S=(C=C||{}).delimiter,O=C.newline,x=C.comments,I=C.step,A=C.preview,T=C.fastMode,D=null,L=!1,F=null==C.quoteChar?'"':C.quoteChar,j=F;if(void 0!==C.escapeChar&&(j=C.escapeChar),("string"!=typeof S||-1<v.BAD_DELIMITERS.indexOf(S))&&(S=","),x===S)throw new Error("Comment character same as delimiter");!0===x?x="#":("string"!=typeof x||-1<v.BAD_DELIMITERS.indexOf(x))&&(x=!1),"\n"!==O&&"\r"!==O&&"\r\n"!==O&&(O="\n");var z=0,M=!1;this.parse=function(i,t,r){if("string"!=typeof i)throw new Error("Input must be a string");var n=i.length,e=S.length,s=O.length,a=x.length,o=U(I),h=[],u=[],d=[],f=z=0;if(!i)return w();if(T||!1!==T&&-1===i.indexOf(F)){for(var l=i.split(O),c=0;c<l.length;c++){if(d=l[c],z+=d.length,c!==l.length-1)z+=O.length;else if(r)return w();if(!x||d.substring(0,a)!==x){if(o){if(h=[],k(d.split(S)),R(),M)return w()}else k(d.split(S));if(A&&A<=c)return h=h.slice(0,A),w(!0)}}return w()}for(var p=i.indexOf(S,z),g=i.indexOf(O,z),_=new RegExp(P(j)+P(F),"g"),m=i.indexOf(F,z);;)if(i[z]===F)for(m=z,z++;;){if(-1===(m=i.indexOf(F,m+1)))return r||u.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:h.length,index:z}),E();if(m===n-1)return E(i.substring(z,m).replace(_,F));if(F===j&&i[m+1]===j)m++;else if(F===j||0===m||i[m-1]!==j){-1!==p&&p<m+1&&(p=i.indexOf(S,m+1));var y=v(-1===(g=-1!==g&&g<m+1?i.indexOf(O,m+1):g)?p:Math.min(p,g));if(i.substr(m+1+y,e)===S){d.push(i.substring(z,m).replace(_,F)),i[z=m+1+y+e]!==F&&(m=i.indexOf(F,z)),p=i.indexOf(S,z),g=i.indexOf(O,z);break}y=v(g);if(i.substring(m+1+y,m+1+y+s)===O){if(d.push(i.substring(z,m).replace(_,F)),b(m+1+y+s),p=i.indexOf(S,z),m=i.indexOf(F,z),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0);break}u.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:h.length,index:z}),m++}}else if(x&&0===d.length&&i.substring(z,z+a)===x){if(-1===g)return w();z=g+s,g=i.indexOf(O,z),p=i.indexOf(S,z)}else if(-1!==p&&(p<g||-1===g))d.push(i.substring(z,p)),z=p+e,p=i.indexOf(S,z);else{if(-1===g)break;if(d.push(i.substring(z,g)),b(g+s),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0)}return E();function k(e){h.push(e),f=z}function v(e){var t=0;return t=-1!==e&&(e=i.substring(m+1,e))&&""===e.trim()?e.length:t}function E(e){return r||(void 0===e&&(e=i.substring(z)),d.push(e),z=n,k(d),o&&R()),w()}function b(e){z=e,k(d),d=[],g=i.indexOf(O,z)}function w(e){if(C.header&&!t&&h.length&&!L){var s=h[0],a=Object.create(null),o=new Set(s);let n=!1;for(let r=0;r<s.length;r++){let i=s[r];if(a[i=U(C.transformHeader)?C.transformHeader(i,r):i]){let e,t=a[i];for(;e=i+"_"+t,t++,o.has(e););o.add(e),s[r]=e,a[i]++,n=!0,(D=null===D?{}:D)[e]=i}else a[i]=1,s[r]=i;o.add(i)}n&&console.warn("Duplicate headers found and renamed."),L=!0}return{data:h,errors:u,meta:{delimiter:S,linebreak:O,aborted:M,truncated:!!e,cursor:f+(t||0),renamedHeaders:D}}}function R(){I(w()),h=[],u=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return z}}function g(e){var t=e.data,i=o[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=o[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete o[e]}function m(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=b(e[t]);return i}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return"function"==typeof e}return v.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,!t.worker||!v.WORKERS_SUPPORTED)return i=null,v.NODE_STREAM_INPUT,"string"==typeof e?(e=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(e),i=new(t.download?f:c)(t)):!0===e.readable&&U(e.read)&&U(e.on)?i=new p(t):(n.File&&e instanceof File||e instanceof Object)&&(i=new l(t)),i.stream(e);(i=(()=>{var e;return!!v.WORKERS_SUPPORTED&&(e=(()=>{var e=n.URL||n.webkitURL||null,t=r.toString();return v.BLOB_URL||(v.BLOB_URL=e.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",t,")();"],{type:"text/javascript"})))})(),(e=new n.Worker(e)).onmessage=g,e.id=h++,o[e.id]=e)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},v.unparse=function(e,t){var n=!1,_=!0,m=",",y="\r\n",s='"',a=s+s,i=!1,r=null,o=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||v.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines),"string"==typeof t.newline&&(y=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(_=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s),t.escapeFormulae instanceof RegExp?o=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(o=/^[=+\-@\t\r].*$/)}})(),new RegExp(P(s),"g"));"string"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if("object"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error("Unable to serialize unrecognized input");function u(e,t,i){var r="",n=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=k(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=(n?e:t[o]).length,u=!1,d=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u="greedy"===i?""===t[o].join("").trim():1===t[o].length&&0===t[o][0].length),"greedy"===i&&n){for(var f=[],l=0;l<h;l++){var c=s?e[l]:l;f.push(t[o][c])}u=""===f.join("").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!d&&(r+=m);var g=n&&s?e[p]:p;r+=k(t[o][g],p)}o<t.length-1&&(!i||0<h&&!d)&&(r+=y)}}return r}function k(e,t){var i,r;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(r=!1,o&&"string"==typeof e&&o.test(e)&&(e="'"+e,r=!0),i=e.toString().replace(h,a),(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1})(i,v.BAD_DELIMITERS)||-1<i.indexOf(m)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?s+i+s:i)}},v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK="\ufeff",v.BAD_DELIMITERS=["\r","\n",'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!s&&!!n.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=E,v.ParserHandle=i,v.NetworkStreamer=f,v.FileStreamer=l,v.StringStreamer=c,v.ReadableStreamStreamer=p,n.jQuery&&((d=n.jQuery).fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!("INPUT"===d(this).prop("tagName").toUpperCase()&&"file"===d(this).attr("type").toLowerCase()&&n.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0===h.length)U(o.complete)&&o.complete();else{var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if("object"==typeof s){if("abort"===s.action)return e="AbortError",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if("skip"===s.action)return void u();"object"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if("skip"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},v.parse(n.file,n.instanceConfig)}}function u(){h.splice(0,1),e()}}),a&&(n.onmessage=function(e){e=e.data;void 0===v.WORKER_ID&&e&&(v.WORKER_ID=e.workerId);"string"==typeof e.input?n.postMessage({workerId:v.WORKER_ID,results:v.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=v.parse(e.input,e.config))&&n.postMessage({workerId:v.WORKER_ID,results:e,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(c.prototype)).constructor=c,(p.prototype=Object.create(u.prototype)).constructor=p,v});

/***/ }),

/***/ "./packages/store-ui/src/components/actions/copy-action.tsx":
/*!******************************************************************!*\
  !*** ./packages/store-ui/src/components/actions/copy-action.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CopyAction: () => (/* binding */ CopyAction)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);
/**
 * WordPress dependencies
 */





/**
 * Displays a copy link.
 */

const CopyAction = ({
  value,
  onClick = () => {},
  as = _wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button,
  ...props
}) => {
  const {
    createInfoNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_1__.store);
  const ref = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.useCopyToClipboard)(value, () => {
    createInfoNotice('Copied to clipboard.', {
      type: 'snackbar'
    });
    onClick?.();
  });
  const Component = as || _wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Component, {
    label: "Click to copy",
    ref: ref,
    showTooltip: true,
    ...props
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/actions/delete-action.tsx":
/*!********************************************************************!*\
  !*** ./packages/store-ui/src/components/actions/delete-action.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DeleteAction: () => (/* binding */ DeleteAction)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/trash.js");
/* harmony import */ var _routes_view_record_overview_action_buttons_delete__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../routes/view-record/overview/action-buttons/delete */ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/delete.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */



/**
 * Local dependencies
 */


/**
 * Displays a delete action.
 */

const DeleteAction = ({
  as = _wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button,
  onClick = () => {},
  ...props
}) => {
  // Prepare the state.
  const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const Component = as || _wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button;
  const onClose = () => {
    setIsModalOpen(false);
    onClick?.();
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Component, {
      isDestructive: true,
      onClick: () => setIsModalOpen(true),
      icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_2__["default"],
      ...props
    }), isModalOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Modal, {
      title: props.label || props.text,
      onRequestClose: onClose,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_routes_view_record_overview_action_buttons_delete__WEBPACK_IMPORTED_MODULE_3__.DeleteModal, {
        ...props,
        closeModal: onClose
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/actions/remote-action.tsx":
/*!********************************************************************!*\
  !*** ./packages/store-ui/src/components/actions/remote-action.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RemoteAction: () => (/* binding */ RemoteAction)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */




/**
 * HizzleWP dependencies
 */


/**
 * Displays a remote action link.
 *
 * @param {Object} props
 */

const RemoteAction = ({
  children = null,
  actionName,
  as = _wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Button,
  namespace,
  collection,
  id,
  onClick,
  ...props
}) => {
  // Prepare the state.
  const {
    doRemoteCollectionRecordAction
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store);
  const {
    createSuccessNotice,
    createErrorNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__.store);
  const isDoingRemoteAction = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => {
    return select(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store).isDoingRemoteCollectionRecordAction(namespace, collection, id, actionName);
  }, [namespace, collection, actionName, id]);

  // A function to do a remote action.
  const onDoAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {
    e?.preventDefault();

    // Do once.
    if (isDoingRemoteAction) {
      return;
    }
    doRemoteCollectionRecordAction(namespace, collection, id, actionName).then(res => {
      createSuccessNotice(res?.message, {
        type: 'snackbar'
      });
      onClick?.();
    }).catch(error => {
      createErrorNotice(error.message, {
        isDismissible: true,
        type: 'default'
      });

      // Scroll to the top of the page after saving
      const mainContent = document.getElementById('hizzlewp-collection__main-content');
      if (mainContent) {
        mainContent.parentElement?.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }
    });
  }, [doRemoteCollectionRecordAction, createSuccessNotice, createErrorNotice, namespace, collection, actionName, id]);
  const Component = as || _wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Button;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(Component, {
    onClick: onDoAction,
    ...props,
    children: [children, isDoingRemoteAction && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Spinner, {})]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/collection.tsx":
/*!*********************************************************!*\
  !*** ./packages/store-ui/src/components/collection.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Collection: () => (/* binding */ Collection)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _routes_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./routes/main */ "./packages/store-ui/src/components/routes/main.tsx");
/* harmony import */ var _routes_records_table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routes/records-table */ "./packages/store-ui/src/components/routes/records-table/index.tsx");
/* harmony import */ var _routes_create_record__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routes/create-record */ "./packages/store-ui/src/components/routes/create-record.tsx");
/* harmony import */ var _routes_view_record__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./routes/view-record */ "./packages/store-ui/src/components/routes/view-record/view-record.tsx");
/* harmony import */ var _routes_view_record__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./routes/view-record */ "./packages/store-ui/src/components/routes/view-record/overview/index.tsx");
/* harmony import */ var _routes_view_record__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./routes/view-record */ "./packages/store-ui/src/components/routes/view-record/tab-content/index.tsx");
/* harmony import */ var _routes_import__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./routes/import */ "./packages/store-ui/src/components/routes/import/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);
/**
 * External dependencies
 */


/**
 * HizzleWP dependencies.
 */



/**
 * Internal dependencies.
 */






/**
 * Displays a single collection.
 *
 * @param {Object} props
 * @param {string} props.defaultNamespace The default namespace.
 * @param {string} props.defaultCollection The default collection.
 */

const Collection = ({
  defaultNamespace,
  defaultCollection
}) => {
  // Define routes
  const routes = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return [{
      path: '/:namespace/:collection',
      element: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_routes_main__WEBPACK_IMPORTED_MODULE_3__.Main, {
          defaultNamespace: defaultNamespace,
          defaultCollection: defaultCollection
        })
      }),
      index: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_routes_records_table__WEBPACK_IMPORTED_MODULE_4__.RecordsTable, {})
      }),
      children: [{
        path: '/:namespace/:collection/add',
        element: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_routes_create_record__WEBPACK_IMPORTED_MODULE_5__.CreateRecord, {})
        })
      }, {
        path: '/:namespace/:collection/import',
        element: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_routes_import__WEBPACK_IMPORTED_MODULE_9__.Import, {})
        })
      }, {
        path: '/:namespace/:collection/:recordId',
        element: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_routes_view_record__WEBPACK_IMPORTED_MODULE_6__.ViewRecord, {})
        }),
        index: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_routes_view_record__WEBPACK_IMPORTED_MODULE_7__.RecordOverview, {})
        }),
        children: [{
          path: '/:namespace/:collection/:recordId/:tab',
          element: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_routes_view_record__WEBPACK_IMPORTED_MODULE_8__.TabContent, {})
          })
        }]
      }]
    }];
  }, [defaultNamespace, defaultCollection]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_2__.Router, {
      basePath: `/${defaultNamespace}/${defaultCollection}`,
      routes: routes
    })
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/edit-record-form.tsx":
/*!***************************************************************!*\
  !*** ./packages/store-ui/src/components/edit-record-form.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditRecordForm: () => (/* binding */ EditRecordForm),
/* harmony export */   prepareEditableRecordFields: () => (/* binding */ prepareEditableRecordFields)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/keyboard-shortcuts */ "@wordpress/keyboard-shortcuts");
/* harmony import */ var _wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _routes_records_table_filters__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routes/records-table/filters */ "./packages/store-ui/src/components/routes/records-table/filters.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */



/**
 * HizzleWP dependencies
 */



const MaybeAnimate = ({
  children,
  loading
}) => {
  if (loading) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Animate, {
      type: "loading",
      children: ({
        className
      }) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div", {
        className: className,
        style: {
          cursor: 'wait'
        },
        children: children
      })
    });
  }
  return children;
};
const EditRecordForm = ({
  record,
  onChange,
  schema,
  hidden,
  ignore,
  onSubmit,
  loading,
  slotName,
  submitText,
  extraSettings
}) => {
  // Prepare form fields.
  const fields = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    let prepared = prepareEditableRecordFields(schema, hidden, ignore);
    if (extraSettings) {
      Object.entries(extraSettings).forEach(([key, {
        prop_pos,
        ...setting
      }]) => {
        setting.name = key;
        if (!prop_pos || !prepared.find(field => field.name === prop_pos)) {
          prepared.push(setting);
        } else {
          const index = prepared.findIndex(field => field.name === prop_pos);
          prepared.splice(index + 1, 0, setting);
        }
      });
    }
    return prepared;
  }, [schema, hidden, ignore, extraSettings]);

  // Handle the save shortcut.
  (0,_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_2__.useShortcut)('hizzlewp/save-record', e => {
    e?.preventDefault();
    onSubmit();
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MaybeAnimate, {
    loading: loading,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalVStack, {
      as: "form",
      spacing: 6,
      style: {
        pointerEvents: loading ? 'none' : 'auto'
      },
      onSubmit: onSubmit,
      children: [fields.map(field => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.Setting, {
          settingKey: field.name,
          saved: record,
          setAttributes: onChange,
          setting: field
        })
      }, field.name)), slotName && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Slot, {
        name: slotName,
        children: fills => Array.isArray(fills) ? fills.map((fill, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Tip, {
          children: fill
        }, index)) : fills
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
        className: "hizzlewp-block-button",
        variant: "primary",
        onClick: onSubmit,
        isBusy: loading,
        children: loading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Spinner, {}) : submitText
      })]
    })
  });
};
const prepareEditableRecordFields = (schema, hidden, ignore) => schema.map(field => {
  // Abort for readonly and dynamic fields.
  if (field.readonly || field.is_dynamic || 'metadata' === field.name) {
    return null;
  }

  // Abort for hidden fields...
  if (Array.isArray(hidden) && hidden.includes(field.name)) {
    return null;
  }

  // ... and fields to ignore.
  if (Array.isArray(ignore) && ignore.includes(field.name)) {
    return null;
  }
  return (0,_routes_records_table_filters__WEBPACK_IMPORTED_MODULE_4__.prepareField)(field);
}).filter(item => !!item);

/***/ }),

/***/ "./packages/store-ui/src/components/layout.tsx":
/*!*****************************************************!*\
  !*** ./packages/store-ui/src/components/layout.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layout)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/url */ "@wordpress/url");
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_url__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/interface */ "@hizzlewp/interface");
/* harmony import */ var _hizzlewp_interface__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _notices__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./notices */ "./packages/store-ui/src/components/notices.tsx");
/* harmony import */ var _collection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./collection */ "./packages/store-ui/src/components/collection.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */




/**
 * HizzleWP dependencies.
 */




/**
 * Local dependancies.
 */



/**
 * Highlights the corresponding WordPress admin menu item
 * @param {string} href The URL to navigate to
 */

const highlightAdminMenuItem = href => {
  // Extract the page parameter from the URL
  const urlParams = new URLSearchParams(href.split('?')[1] || '');
  const page = urlParams.get('page');
  if (!page) return;

  // Find and highlight the corresponding admin menu item
  setTimeout(() => {
    const adminMenuItems = document.querySelectorAll('#adminmenu a');
    adminMenuItems.forEach(menuItem => {
      const menuItemHref = menuItem.getAttribute('href');
      if (menuItemHref && menuItemHref.includes(`page=${page}`)) {
        // Remove current class from all items
        document.querySelectorAll('#adminmenu .current').forEach(el => el.classList.remove('current'));

        // Find parent li and add appropriate classes
        const parentLi = menuItem.closest('li');
        if (parentLi) {
          parentLi.classList.add('current');

          // If it's a submenu item, highlight parent too
          const topLevelParent = parentLi.closest('.wp-has-submenu');
          if (topLevelParent) {
            topLevelParent.classList.add('wp-has-current-submenu');
            topLevelParent.classList.add('wp-menu-open');
            topLevelParent.classList.remove('wp-not-current-submenu');
          }
        }

        // Add current class to the link
        menuItem.classList.add('current');
        menuItem.setAttribute('aria-current', 'page');
      }
    });
  }, 0);
};
const TheHeader = props => {
  const path = (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.usePath)();
  const brand = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!props.brand?.menu) {
      return props.brand;
    }
    const currentPath = props.brand.menu.find(item => item.updatePath && path && path.startsWith(item.updatePath));
    return {
      ...props.brand,
      menu: props.brand.menu.map(({
        updatePath,
        href,
        ...item
      }) => ({
        ...item,
        href: updatePath ? undefined : href,
        onClick: updatePath ? () => {
          // Navigate to the URL
          (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.getHistory)().push((0,_wordpress_url__WEBPACK_IMPORTED_MODULE_2__.addQueryArgs)(href, {
            hizzlewp_path: updatePath
          }));

          // Highlight the corresponding WordPress admin menu item
          highlightAdminMenuItem(href);
        } : undefined,
        isPressed: currentPath ? currentPath.updatePath === updatePath : item.isPressed
      }))
    };
  }, [props.brand, path]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__.ErrorBoundary, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_3__.Header, {
      ...props,
      brand: brand
    })
  });
};
function Layout({
  defaultNamespace,
  defaultCollection,
  ...props
}) {
  const theContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalVStack, {
      id: "hizzlewp-collection__main-content",
      spacing: 4,
      style: {
        padding: 20
      },
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__.ErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_notices__WEBPACK_IMPORTED_MODULE_6__.EditorSnackbars, {})
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__.ErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_notices__WEBPACK_IMPORTED_MODULE_6__.EditorNotices, {})
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__.ErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_collection__WEBPACK_IMPORTED_MODULE_7__.Collection, {
          defaultNamespace: defaultNamespace,
          defaultCollection: defaultCollection
        })
      })]
    });
  }, [defaultNamespace, defaultCollection]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_3__.Interface, {
    className: "hizzlewp-settings__interface",
    header: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(TheHeader, {
      ...props
    }),
    content: theContent
  });
}

/***/ }),

/***/ "./packages/store-ui/src/components/notices.tsx":
/*!******************************************************!*\
  !*** ./packages/store-ui/src/components/notices.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorNotices: () => (/* binding */ EditorNotices),
/* harmony export */   EditorSnackbars: () => (/* binding */ EditorSnackbars)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */




function EditorNotices() {
  const {
    notices
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => ({
    notices: select(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__.store).getNotices()
  }), []);
  const {
    removeNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__.store);
  const dismissibleNotices = notices.filter(({
    isDismissible,
    type
  }) => isDismissible && type === 'default');
  const nonDismissibleNotices = notices.filter(({
    isDismissible,
    type
  }) => !isDismissible && type === 'default');
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.NoticeList, {
      notices: nonDismissibleNotices,
      className: "components-editor-notices__pinned"
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.NoticeList, {
      notices: dismissibleNotices,
      className: "components-editor-notices__dismissible",
      onRemove: removeNotice
    })]
  });
}

// Last three notices. Slices from the tail end of the list.
const MAX_VISIBLE_NOTICES = -3;
function EditorSnackbars() {
  const notices = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => select(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__.store).getNotices(), []);
  const {
    removeNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__.store);
  const snackbarNotices = notices.filter(({
    type
  }) => type === 'snackbar').slice(MAX_VISIBLE_NOTICES);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.SnackbarList, {
    notices: snackbarNotices,
    className: "components-editor-notices__snackbar",
    onRemove: removeNotice
  });
}

/***/ }),

/***/ "./packages/store-ui/src/components/routes/create-record.tsx":
/*!*******************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/create-record.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CreateRecord: () => (/* binding */ CreateRecord),
/* harmony export */   SectionWithErrorBoundary: () => (/* binding */ SectionWithErrorBoundary)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _edit_record_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../edit-record-form */ "./packages/store-ui/src/components/edit-record-form.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */





/**
 * HizzleWP dependencies
 */




/**
 * Local dependancies.
 */


/**
 * Displays the record creation form.
 *
 */

const CreateRecordForm = () => {
  // Prepare the state.
  const {
    config: {
      namespace,
      collection,
      props,
      hidden,
      ignore,
      defaultProps,
      labels,
      settings
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__.useProvidedCollectionConfig)() || {};
  const {
    saveCollectionRecord
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__.store);
  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [record, setRecord] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});
  const newIgnore = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => [...ignore, ...Object.keys(defaultProps || {})], [ignore, defaultProps]);
  const {
    createErrorNotice,
    createSuccessNotice,
    removeAllNotices
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__.store);

  // A function to create a new record.
  const handleSubmit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {
    e?.preventDefault();

    // Save once.
    if (loading) {
      return;
    }
    removeAllNotices();
    setLoading(true);
    saveCollectionRecord(namespace, collection, {
      ...record,
      ...defaultProps
    }, {
      throwOnError: true
    }).then(({
      id
    }) => {
      createSuccessNotice((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Record saved successfully.', 'newsletter-optin-box'), {
        isDismissible: true,
        type: 'snackbar'
      });
      (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updatePath)(`/${namespace}/${collection}/${id}`);
    }).catch(error => {
      createErrorNotice(error.message, {
        isDismissible: true,
        type: 'default'
      });

      // Scroll to the top of the page after saving
      const mainContent = document.getElementById('hizzlewp-collection__main-content');
      if (mainContent) {
        mainContent.parentElement?.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }
    }).finally(() => {
      setLoading(false);
    });
  }, [record, defaultProps, namespace, collection, saveCollectionRecord, createErrorNotice, createSuccessNotice, removeAllNotices]);

  // Display the add record form.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_edit_record_form__WEBPACK_IMPORTED_MODULE_8__.EditRecordForm, {
    record: record,
    onChange: newProps => setRecord({
      ...record,
      ...newProps
    }),
    onSubmit: handleSubmit,
    submitText: labels?.save_item || 'Save',
    schema: props,
    hidden: hidden,
    ignore: newIgnore,
    loading: loading,
    slotName: `${namespace}_${collection}_record_create_below`,
    extraSettings: settings
  });
};
const SectionWithErrorBoundary = ({
  children
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, {
    style: {
      width: 400,
      maxWidth: '100%'
    },
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundary, {
      children: children
    })
  });
};

/**
 * Allows the user to create new records.
 *
 */
const CreateRecord = () => {
  const {
    config: {
      namespace,
      collection,
      labels
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__.useProvidedCollectionConfig)() || {};

  // Display the add record form.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.CardBody, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
      alignment: "flex-start",
      justify: "space-between",
      wrap: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Fill, {
        name: `/${namespace}/${collection}/title`,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHeading, {
          level: 1,
          size: 16,
          truncate: true,
          children: labels?.add_new_item || 'Add New Item'
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SectionWithErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(CreateRecordForm, {})
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Slot, {
        name: `${namespace}_${collection}_record_create_upsell`,
        children: fills => fills ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SectionWithErrorBoundary, {
          children: fills
        }) : null
      })]
    })
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/import/import-file.tsx":
/*!************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/import/import-file.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImportFile: () => (/* binding */ ImportFile)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _map_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map-headers */ "./packages/store-ui/src/components/routes/import/map-headers.tsx");
/* harmony import */ var _progress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./progress */ "./packages/store-ui/src/components/routes/import/progress.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);
/**
 * External dependencies
 */


/**
 * Internal dependencies
 */



const ImportFile = ({
  file,
  back
}) => {
  const [mappedHeaders, setMappedHeaders] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [updateRecords, setUpdateRecords] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  // If we have no headers, map them.
  if (!mappedHeaders) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_map_headers__WEBPACK_IMPORTED_MODULE_1__.MapHeaders, {
      file: file,
      back: back,
      onContinue: (headers, update) => {
        setMappedHeaders(headers);
        setUpdateRecords(update);

        // Scroll to the top.
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_progress__WEBPACK_IMPORTED_MODULE_2__.Progress, {
    file: file,
    headers: mappedHeaders,
    back: back,
    updateRecords: updateRecords
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/import/index.tsx":
/*!******************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/import/index.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Import: () => (/* binding */ Import)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _select_file__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-file */ "./packages/store-ui/src/components/routes/import/select-file.tsx");
/* harmony import */ var _import_file__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./import-file */ "./packages/store-ui/src/components/routes/import/import-file.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */

/**
 * HizzleWP dependencies
 */



/**
 * Internal dependencies
 */



/**
 * Allows the user to import new records.
 *
 */

const Import = () => {
  const {
    config: {
      namespace,
      collection,
      labels
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__.useProvidedCollectionConfig)() || {};
  const [file, setFile] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);

  // Display the add record form.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.CardBody, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Fill, {
      name: `/${namespace}/${collection}/title`,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHeading, {
        level: 1,
        size: 16,
        truncate: true,
        children: labels?.import || 'Import'
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
      children: file ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_import_file__WEBPACK_IMPORTED_MODULE_5__.ImportFile, {
        file: file,
        back: () => setFile(null)
      }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_select_file__WEBPACK_IMPORTED_MODULE_4__.SelectFile, {
        onUpload: setFile
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/import/map-headers.tsx":
/*!************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/import/map-headers.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MapHeaders: () => (/* binding */ MapHeaders)
/* harmony export */ });
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! papaparse */ "./node_modules/papaparse/papaparse.min.js");
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * External dependencies
 */



/**
 * WordPress dependencies
 */



/**
 * HizzleWP dependencies
 */



/**
 * Normalizes a string to make it possible to guess the header.
 *
 * @param {string} string The string to normalize.
 * @returns {string} The normalized string.
 */

const normalizeString = string => {
  // Strip all non-alphanumeric characters.
  string = string.replace(/[^a-zA-Z0-9]/g, '');

  // Convert to lowercase.
  string = string.toLowerCase();

  // If begins with cf_ or meta_, remove it.
  if (string.startsWith('cf')) {
    string = string.slice(2);
  }
  if (string.startsWith('meta')) {
    string = string.slice(4);
  }
  return string;
};

/**
 * Allows the user to map a single header.
 *
 * @param {Object} props
 * @param {Array} props.options The available options.
 * @param {Object} props.field The field.
 * @param {string} props.value The current value.
 * @param {Function} props.setValue The function to set the value.
 * @param {string} props.customValue The current custom value.
 * @param {Function} props.setCustomValue The function to set the custom value.
 */
const MapHeader = ({
  options,
  fieldOptions,
  fieldLabel,
  value,
  setValue,
  customValue,
  setCustomValue
}) => {
  const preparedOptions = (0,_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.useOptions)(fieldOptions);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalHStack, {
    spacing: 4,
    justify: "flex-start",
    wrap: true,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.SelectControl, {
      label: fieldLabel,
      value: value,
      onChange: setValue,
      options: options,
      __next40pxDefaultSize: true,
      __nextHasNoMarginBottom: true,
      style: {
        width: '320px',
        maxWidth: '100%'
      }
    }), '-1' === value && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
      children: preparedOptions.length > 0 ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.SelectControl, {
        label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Select value', 'newsletter-optin-box'),
        value: customValue,
        onChange: setCustomValue,
        options: [{
          value: '',
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Select value', 'newsletter-optin-box'),
          disabled: true
        }, ...preparedOptions],
        __next40pxDefaultSize: true,
        __nextHasNoMarginBottom: true,
        style: {
          width: '320px',
          maxWidth: '100%'
        }
      }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.TextControl, {
        label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Enter value', 'newsletter-optin-box'),
        placeholder: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Enter a value to assign all imported records', 'newsletter-optin-box'),
        value: customValue,
        onChange: setCustomValue,
        __next40pxDefaultSize: true,
        __nextHasNoMarginBottom: true,
        style: {
          width: '320px',
          maxWidth: '100%'
        }
      })
    })]
  });
};
/**
 * Allows the user to map CSV headers to fields.
 *
 * @param {Object} props
 * @param {Object} props.file The file to import.
 * @param {Object} props.schema The schema of the collection.
 * @param {Array} props.ignore The fields to ignore.
 * @param {Array} props.hidden The fields to hide.
 * @param {Function} props.back The callback to call when clicking on the back button.
 * @param {Function} props.onContinue A callback to call when the headers are set.
 */
const MapHeaders = ({
  file,
  back,
  onContinue
}) => {
  const {
    config: {
      namespace,
      collection,
      ignore,
      props
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollectionConfig)() || {};

  // Prepare state.
  const [fileHeaders, setFileHeaders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
  const [mappedHeaders, setMappedHeaders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
  const [updateRecords, setUpdateRecords] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);

  // Parse the first few lines of the file to get the headers.
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    papaparse__WEBPACK_IMPORTED_MODULE_0___default().parse(file, {
      header: true,
      skipEmptyLines: 'greedy',
      preview: 5,
      complete: results => {
        setFileHeaders(results.meta.fields);
      },
      error(error) {
        setError(error);
      }
    });
  }, [file]);

  // Try guessing the headers.
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!fileHeaders.length) {
      return;
    }
    const guessedHeaders = {};

    // Loop through the headers.
    fileHeaders.forEach(header => {
      const normalizedHeader = normalizeString(header);
      let partialMatch = false;

      // Loop through the fields.
      let match = props.find(field => {
        // If the field is hidden or ignored, don't show it.
        if ('date_created' !== field.name && (field.readonly || [...ignore, 'id'].includes(field.name))) {
          return false;
        }
        const normalizedKey = normalizeString(field.name);
        const normalizedLabel = normalizeString(field.label);
        return normalizedHeader === normalizedKey || normalizedHeader === normalizedLabel;
      });

      // If no match, check for a partial match.
      if (!match) {
        match = props.find(field => {
          // If the field is hidden or ignored, don't show it.
          if ('date_created' !== field.name && (field.readonly || [...ignore, 'id'].includes(field.name))) {
            return false;
          }
          const normalizedKey = normalizeString(field.name);
          const normalizedLabel = normalizeString(field.label);
          return normalizedHeader.includes(normalizedKey) || normalizedHeader.includes(normalizedLabel) || normalizedKey.includes(normalizedHeader) || normalizedLabel.includes(normalizedHeader);
        });
        partialMatch = true;
      }
      if (match && (!partialMatch || !guessedHeaders[match.name])) {
        guessedHeaders[match.name] = {
          mapped: true,
          value: header,
          is_boolean: match.is_boolean
        };
      }
    });
    setMappedHeaders(guessedHeaders);
  }, [fileHeaders, props]);

  // Prepare the select values.
  const selectValues = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    const values = [{
      value: '',
      label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Ignore Field', 'newsletter-optin-box')
    }, {
      value: '-1',
      label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Manually enter value', 'newsletter-optin-box')
    }, {
      value: '-2',
      label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Map Field', 'newsletter-optin-box'),
      disabled: true
    }];
    fileHeaders.forEach(header => {
      values.push({
        value: header,
        label: header
      });
    });
    return values;
  }, [fileHeaders]);

  // If we have an error, display it.
  if (error) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Notice, {
      status: "error",
      isDismissible: false,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p", {
        children: error.message
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Button, {
        variant: "link",
        onClick: back,
        children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Try again', 'newsletter-optin-box')
      })]
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalVStack, {
    spacing: 4,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Tip, {
      children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Map the headers of your CSV file to record fields.', 'newsletter-optin-box')
    }), props.map(field => {
      // If the field is hidden or ignored, don't show it.
      if ('date_created' !== field.name && (field.readonly || [...ignore, 'id'].includes(field.name))) {
        return null;
      }
      const header = mappedHeaders[field.name] || {
        is_boolean: field.is_boolean
      };
      const value = header.value || '';
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(MapHeader, {
        options: selectValues,
        fieldLabel: field.label,
        fieldOptions: field.enum,
        value: value,
        setValue: newValue => {
          setMappedHeaders({
            ...mappedHeaders,
            [field.name]: {
              ...header,
              mapped: !['', '-1', '-2'].includes(newValue),
              value: newValue
            }
          });
        },
        customValue: header.customValue || '',
        setCustomValue: newValue => {
          setMappedHeaders({
            ...mappedHeaders,
            [field.name]: {
              ...header,
              customValue: newValue
            }
          });
        }
      }, field.name);
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.ToggleControl, {
      label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Update existing records', 'newsletter-optin-box'),
      checked: updateRecords,
      onChange: newValue => setUpdateRecords(newValue),
      __nextHasNoMarginBottom: true
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Slot, {
      name: `${namespace}_${collection}_import_records_below`,
      children: fills => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
        children: Array.isArray(fills) && fills.map((fill, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Tip, {
          children: fill
        }, index))
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalHStack, {
      justify: "flex-start",
      wrap: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Button, {
        variant: "primary",
        onClick: () => onContinue(mappedHeaders, updateRecords),
        children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Import', 'newsletter-optin-box')
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Button, {
        variant: "secondary",
        onClick: back,
        children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Import a different file', 'newsletter-optin-box')
      })]
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/import/progress.tsx":
/*!*********************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/import/progress.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Progress: () => (/* binding */ Progress)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! papaparse */ "./node_modules/papaparse/papaparse.min.js");
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _view_record_overview_stats__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../view-record/overview/stats */ "./packages/store-ui/src/components/routes/view-record/overview/stats.tsx");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./reducer */ "./packages/store-ui/src/components/routes/import/reducer.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__);
/**
 * External dependencies
 */



/**
 * WordPress dependencies
 */





/**
 * HizzleWP dependencies
 */




/**
 * Internal dependancies.
 */



const MIN_CHUNK_SIZE = 1;
const MAX_CHUNK_SIZE = 99;
const IDEAL_DURATION = 20000; // 20 seconds

const calculateChunkSize = (lastDurationInMilliseconds, lastChunkSize) => {
  if (lastDurationInMilliseconds <= 0 || lastChunkSize <= 0) {
    return MIN_CHUNK_SIZE;
  }
  const ratePerMillisecond = lastChunkSize / lastDurationInMilliseconds;

  // Ensure we don't go past the maximum chunk size.
  return Math.min(Math.max(
  // Ensure we don't go past the minimum chunk size.
  MIN_CHUNK_SIZE, Math.floor(ratePerMillisecond * IDEAL_DURATION)), MAX_CHUNK_SIZE);
};

/**
 * parses a CSV file.
 *
 * @param {Object} file The file to parse.
 * @param {Function} cb The callback to call when done.
 */
const parseCSV = (file, onComplete, onError) => {
  papaparse__WEBPACK_IMPORTED_MODULE_1___default().parse(file, {
    header: true,
    skipEmptyLines: 'greedy',
    complete(results) {
      onComplete(results);
    },
    error(error) {
      onError(error);
    }
  });
};

/**
 * Parses a record.
 *
 * @param {Object} record The raw record.
 * @returns {Object} The parsed record.
 */
const useParseRecord = headers => (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(record => {
  const parsed = {};
  Object.keys(headers).forEach(key => {
    // Abort if the header is not mapped.
    if ('' === headers[key].value) {
      return;
    }

    // Are we mapping the field?
    if (headers[key].mapped) {
      parsed[key] = record[headers[key].value];
    } else if (undefined !== headers[key].customValue) {
      parsed[key] = headers[key].customValue;
    }

    // If the field is a boolean, convert it.
    if (headers[key].is_boolean) {
      parsed[key] = ['0', '', 'false', 'FALSE', 'no'].includes(parsed[key]) ? false : true;
    }
  });
  return parsed;
}, [headers]);

/**
 * The props for the Progress component.
 */

/**
 * Imports the file and displays the progress.
 *
 * @param {Object} props
 * @param {Object} props.file The file to import.
 * @param {Object} props.headers Known fields to file headers mapping.
 * @param {Function} props.back The callback to call when clicking on the back button.
 */
const Progress = ({
  file,
  headers,
  back,
  updateRecords
}) => {
  const {
    config: {
      namespace,
      collection,
      labels
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__.useProvidedCollectionConfig)() || {};
  const [{
    paused,
    done,
    lastDuration,
    parsed,
    total,
    processed,
    stats,
    previousStats,
    chunks
  }, dispatch] = (0,_reducer__WEBPACK_IMPORTED_MODULE_10__.useImportReducer)();

  // Dispatch.
  const {
    doBatchCollectionAction
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__.store);
  const {
    createErrorNotice,
    removeAllNotices
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__.store);
  const setErrors = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(errors => {
    removeAllNotices('default', 'hizzlewp-import-progress');
    errors.forEach(error => {
      createErrorNotice(error.message, {
        isDismissible: true,
        type: 'default',
        context: 'hizzlewp-import-progress'
      });
    });
  }, [createErrorNotice, removeAllNotices]);

  /**
   * Parses a record.
   */
  const parseRecord = useParseRecord(headers);

  // Import chunks.
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    // Abort if paused.
    if (paused) {
      return;
    }
    const startTime = new Date().getTime();
    const newChunks = [...chunks];

    // Get the next chunk.
    const chunk = newChunks.shift();

    // If there's no chunk, we're done.
    if (!chunk) {
      if (false === done) {
        dispatch({
          type: 'UPDATE',
          done: true
        });
      }
      return;
    }

    // If we're done, set the done flag to false.
    if (true === done) {
      dispatch({
        type: 'UPDATE',
        done: false
      });
    }

    // Import the chunk.
    doBatchCollectionAction(namespace, collection, {
      import: chunk,
      update: updateRecords
    }).then(result => {
      let chunkStats = {
        ...stats
      };
      let errors = [];

      // Process the chunk results.
      result?.import?.forEach(record => {
        if (record.is_error) {
          chunkStats.failed++;
          errors.push(record.data);
          return;
        }
        Object.keys(chunkStats).forEach(key => {
          if (record.data?.[key]) {
            chunkStats[key]++;
          }
        });
      });
      dispatch({
        type: 'UPDATE_STATS',
        ...chunkStats
      });
      setErrors(errors);
    }).catch(error => {
      dispatch({
        type: 'UPDATE_STATS',
        ...stats,
        failed: stats.failed + chunk.length
      });
      setErrors([error]);
    }).finally(() => {
      // Calculate the time (in milliseconds) taken to process the chunk.
      const diff = Math.min(2000, new Date().getTime() - startTime);

      // Check if we've processed everything.
      if (newChunks.length === 0) {
        dispatch({
          type: 'UPDATE',
          processed: processed + chunk.length,
          chunks: newChunks,
          lastDuration: Math.ceil(diff)
        });
        return;
      }

      // Adjust the number of records per chunk,
      // so that we speed up or slow down the import
      // based on server performance.
      const newChunkSize = calculateChunkSize(diff, chunk.length);
      const recalculatedChunks = [];

      // Flatten the old chunks.
      const oldChunks = newChunks.flat();

      // Create new chunks.
      for (let i = 0; i < oldChunks.length; i += newChunkSize) {
        const records = oldChunks.slice(i, i + newChunkSize);
        recalculatedChunks.push(records);
      }

      // Update the chunks.
      dispatch({
        type: 'UPDATE',
        processed: processed + chunk.length,
        chunks: recalculatedChunks,
        lastDuration: Math.ceil(diff)
      });
    });
  }, [chunks, paused, dispatch, doBatchCollectionAction, setErrors]);

  // Parse the file.
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    // Parse the file.
    parseCSV(file, results => {
      // Create chunks of 10 records per chunk.
      const batchSize = 10;
      const newChunks = [];
      for (let i = 0; i < results.data.length; i += batchSize) {
        const records = results.data.slice(i, i + batchSize);
        newChunks.push(records.map(record => parseRecord(record)));
      }

      // Update the state.
      dispatch({
        type: 'UPDATE',
        parsed: true,
        total: results.data.length,
        chunks: newChunks,
        paused: false
      });
    }, error => setErrors([error]));
  }, [file, headers]);

  // Abort if the file is not parsed.
  if (!parsed) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalHeading, {
      level: 3,
      size: 20,
      children: [(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Parsing', 'newsletter-optin-box'), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("code", {
        children: file.name
      }), "... \xA0", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.Spinner, {})]
    });
  }

  // Abort if total == 0.
  if (0 === total) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.Notice, {
      isDismissible: false,
      status: "error",
      children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.sprintf)(
      // translators: %s: file name.
      (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('No records found in %s.', 'newsletter-optin-box'), file.name)
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalVStack, {
    className: "hizzlewp-import-progress",
    spacing: 4,
    children: [!done && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalHeading, {
        level: 3,
        size: 20,
        children: [(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Importing', 'newsletter-optin-box'), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("code", {
          children: file.name
        }), "... \xA0", !paused && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.Spinner, {}), "\xA0", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.Button, {
          variant: "link",
          onClick: () => dispatch({
            type: 'UPDATE',
            paused: !paused
          }),
          children: paused ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Resume', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Pause', 'newsletter-optin-box')
        })]
      }), !paused && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.ProgressBar, {
        value: !processed ? 0 : Math.floor(processed / total * 100)
      })]
    }), done && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalHeading, {
      level: 3,
      size: 20,
      children: [(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Processed', 'newsletter-optin-box'), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("code", {
        children: file.name
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalHStack, {
      spacing: 4,
      justify: "flex-start",
      wrap: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.FlexItem, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_view_record_overview_stats__WEBPACK_IMPORTED_MODULE_9__.StatCard, {
          value: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_8__.AnimatedNumber, {
            to: total,
            duration: 3000
          }),
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Records Found', 'newsletter-optin-box'),
          status: "light"
        })
      }), stats.created > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.FlexItem, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_view_record_overview_stats__WEBPACK_IMPORTED_MODULE_9__.StatCard, {
          value: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_8__.AnimatedNumber, {
            from: previousStats.created || 0,
            to: stats.created,
            duration: done || paused ? 300 : lastDuration
          }),
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Records Created', 'newsletter-optin-box'),
          status: "success"
        })
      }), stats.updated > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.FlexItem, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_view_record_overview_stats__WEBPACK_IMPORTED_MODULE_9__.StatCard, {
          value: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_8__.AnimatedNumber, {
            from: previousStats.updated || 0,
            to: stats.updated,
            duration: done || paused ? 300 : lastDuration
          }),
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Records Updated', 'newsletter-optin-box'),
          status: "success"
        })
      }), stats.failed > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.FlexItem, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_view_record_overview_stats__WEBPACK_IMPORTED_MODULE_9__.StatCard, {
          value: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_8__.AnimatedNumber, {
            from: previousStats.failed || 0,
            to: stats.failed,
            duration: done || paused ? 300 : lastDuration
          }),
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Records Failed', 'newsletter-optin-box'),
          status: "error"
        })
      }), stats.skipped > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.FlexItem, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_view_record_overview_stats__WEBPACK_IMPORTED_MODULE_9__.StatCard, {
          value: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_8__.AnimatedNumber, {
            from: previousStats.skipped || 0,
            to: stats.skipped,
            duration: done || paused ? 300 : lastDuration
          }),
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Records Skipped', 'newsletter-optin-box'),
          status: "info"
        })
      })]
    }), done && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("div", {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.Button, {
        variant: "primary",
        text: labels.view_items || 'View Records',
        onClick: () => (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_7__.updatePath)(`/${namespace}/${collection}`),
        style: {
          maxWidth: 200
        }
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/import/reducer.ts":
/*!*******************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/import/reducer.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   importReducer: () => (/* binding */ importReducer),
/* harmony export */   useImportReducer: () => (/* binding */ useImportReducer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


/**
 * The state of the import.
 */

/**
 * The action of the import.
 */

const importReducer = (state, {
  type,
  ...payload
}) => {
  switch (type) {
    case 'UPDATE_STATS':
      return {
        ...state,
        stats: {
          ...state.stats,
          ...payload
        },
        previousStats: {
          ...state.stats
        }
      };
    case 'UPDATE':
      return {
        ...state,
        ...payload
      };
    default:
      return state;
  }
};
const useImportReducer = () => {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(importReducer, {
    done: false,
    lastDuration: 5000,
    paused: false,
    parsed: false,
    total: 0,
    processed: 0,
    stats: {
      updated: 0,
      created: 0,
      failed: 0,
      skipped: 0
    },
    previousStats: {
      updated: 0,
      created: 0,
      failed: 0,
      skipped: 0
    },
    chunks: []
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/import/select-file.tsx":
/*!************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/import/select-file.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectFile: () => (/* binding */ SelectFile)
/* harmony export */ });
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);
/**
 * WordPress dependencies
 */



/**
 * Displays the file input.
 *
 * @param {Object} props
 */

const SelectFile = ({
  onUpload
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalVStack, {
    spacing: 5,
    style: {
      maxWidth: 500
    },
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalText, {
      weight: 600,
      as: "h3",
      children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('This tool allows you to import existing records from a CSV file.', 'newsletter-optin-box')
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FormFileUpload, {
      accept: "text/csv",
      onChange: event => onUpload(event?.currentTarget?.files?.[0]),
      className: "hizzlewp-block-button is-primary",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Icon, {
        icon: "cloud-upload"
      }), (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Select a CSV file', 'newsletter-optin-box')]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Tip, {
      children: [(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('The first row of the CSV file should contain the field names/headers.', 'newsletter-optin-box'), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("br", {}), (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)(' Have a different file type?', 'newsletter-optin-box'), "\xA0", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
        variant: "link",
        href: "https://convertio.co/csv-converter/",
        target: "_blank",
        text: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Convert it to CSV', 'newsletter-optin-box')
      })]
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/main.tsx":
/*!**********************************************************!*\
  !*** ./packages/store-ui/src/components/routes/main.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CheckConfig: () => (/* binding */ CheckConfig),
/* harmony export */   Main: () => (/* binding */ Main)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/arrow-left.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/rotate-right.js");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _upsell__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../upsell */ "./packages/store-ui/src/components/upsell.tsx");
/* harmony import */ var _records_table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./records-table */ "./packages/store-ui/src/components/routes/records-table/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);
/**
 * External dependencies.
 */


/**
 * WordPress dependencies.
 */




/**
 * HizzleWP dependencies.
 */




/**
 * Internal dependencies.
 */



/**
 * Refreshes the records.
 */

const RefreshRecords = ({
  namespace,
  collection
}) => {
  const query = (0,_records_table__WEBPACK_IMPORTED_MODULE_9__.usePreparedQuery)(namespace, collection);
  const {
    invalidateResolution
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_4__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__.store);
  const onRefresh = () => invalidateResolution('getCollectionRecords', [namespace, collection, query]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_3__["default"],
    onClick: onRefresh,
    variant: "tertiary",
    label: "Refresh",
    showTooltip: true
  });
};

/**
 * Displays main layout.
 *
 * @param {Object} props
 */
const Layout = () => {
  const {
    config: {
      namespace,
      collection,
      labels,
      routes,
      fills
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__.useProvidedCollectionConfig)();
  const {
    path
  } = (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.useRoute)();
  const basePath = `/${namespace}/${collection}`;
  const actions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const actions = [];
    if (basePath !== path) {
      return actions;
    }

    // Show button to add new item.
    actions.push({
      text: labels?.add_new_item || 'Add New',
      onClick: () => (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updatePath)(`${basePath}/add`),
      variant: 'primary'
    });
    if (routes) {
      Object.entries(routes).forEach(([route, {
        title,
        ...extra
      }]) => {
        actions.push({
          text: title,
          onClick: !extra.href ? () => (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updatePath)(route) : undefined,
          variant: 'secondary',
          ...extra
        });
      });
    }
    return actions;
  }, [labels, routes, path]);

  /**
   * Goes to the collection index.
   */
  const goToCollectionIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updatePath)(`${namespace}/${collection}`);
  }, [namespace, collection]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
      wrap: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
          expanded: false,
          spacing: 2,
          justify: "flex-start",
          wrap: true,
          children: basePath !== path ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
              variant: "primary",
              onClick: goToCollectionIndex,
              icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_2__["default"],
              label: labels?.view_items || 'View Items',
              showTooltip: true,
              __next40pxDefaultSize: true
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span", {
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Slot, {
                name: `${basePath}/title`
              })
            })]
          }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHeading, {
              level: 1,
              size: 16,
              truncate: true,
              children: labels?.name || 'Items'
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(RefreshRecords, {
              namespace: namespace,
              collection: collection
            })]
          })
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundary, {
        children: actions.length > 0 ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
          as: _wordpress_components__WEBPACK_IMPORTED_MODULE_1__.NavigableMenu,
          orientation: "horizontal",
          className: "hizzle-store-ui__header-menu",
          expanded: false,
          spacing: 0,
          alignment: "stretch",
          wrap: true,
          children: actions.map(action => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundary, {
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
              __next40pxDefaultSize: true,
              ...action
            })
          }, action.text))
        }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Slot, {
          name: `${basePath}/actions`
        })
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Card, {
      isRounded: false,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.Outlet, {
          path: "/:namespace/:collection"
        })
      }), fills && fills.map(fill => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Fill, {
        name: `${fill.name}`,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundary, {
          children: [fill.content && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span", {
            dangerouslySetInnerHTML: {
              __html: fill.content
            }
          }), fill.upsell && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_upsell__WEBPACK_IMPORTED_MODULE_8__.UpsellCard, {
            upsell: fill.upsell
          })]
        })
      }, fill.name))]
    })]
  });
};

/**
 * Ensure that the collection config is loaded before rendering the page.
 *
 * @param {Object} props
 */
const CheckConfig = ({
  children
}) => {
  const {
    config,
    isResolving,
    hasResolved,
    error
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__.useProvidedCollectionConfig)();

  // Show loading indicator if still resolving.
  if (isResolving || !hasResolved) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Spinner, {});
  }

  // Show error if any.
  if (error || !config) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Notice, {
      status: "error",
      isDismissible: false,
      children: error?.message || 'An unknown error occurred.'
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundary, {
    children: children
  });
};

/**
 * Displays the main layout.
 *
 * @param {Object} props
 */
const Main = ({
  defaultNamespace,
  defaultCollection
}) => {
  const {
    params
  } = (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.useRoute)();
  const namespace = params?.get('namespace') || defaultNamespace;
  const collection = params?.get('collection') || defaultCollection;
  const id = params?.get('recordId');

  // Render the rest of the page.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_7__.CollectionProvider, {
    namespace: namespace,
    collection: collection,
    recordId: id ? Number(id) : id,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundary, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(CheckConfig, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(Layout, {})
      })
    })
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/display-cell.tsx":
/*!********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/display-cell.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplayCell: () => (/* binding */ DisplayCell),
/* harmony export */   hasCollectionNavigationLink: () => (/* binding */ hasCollectionNavigationLink),
/* harmony export */   normalizeAvatarColors: () => (/* binding */ normalizeAvatarColors)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_date__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/date */ "@wordpress/date");
/* harmony import */ var _wordpress_date__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_date__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/url */ "@wordpress/url");
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_url__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _enum_colors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./enum-colors */ "./packages/store-ui/src/components/routes/records-table/enum-colors.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);
/**
 * External dependencies.
 */


/**
 * WordPress dependencies.
 */





/**
 * HizzleWP dependencies.
 */



/**
 * Local dependencies.
 */


/**
 * Displays a badge.
 */

const Badge = props => {
  const {
    className,
    ...rest
  } = props;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("span", {
    className: `hizzlewp-badge ${className || ''}`,
    ...rest
  });
};

/**
 * Checks if a value is an object.
 */
const isObject = obj => obj && typeof obj === 'object' && obj.constructor === Object;

/**
 * Takes an avatar URL then generates consistent colors for the avatar.
 *
 * @param {string} avatarUrl The avatar URL.
 * @return {Object} The generated background and text colors.
 */
const normalizeAvatarColors = (avatarUrl, fallbackText, isGrid = false) => {
  if (!avatarUrl) {
    return avatarUrl;
  }

  // If this is a grid view, replace s=64 with s=360.
  if (isGrid) {
    avatarUrl = (0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.addQueryArgs)(avatarUrl, {
      s: 360
    });
  }
  const fallback = (0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.getQueryArg)(avatarUrl, 'd');

  // Abort if we're not falling back to ui-avatar.
  if (!fallback || !fallback.includes('ui-avatars.com')) {
    return avatarUrl;
  }
  const match = fallback.match(/\/api\/(.*?)\/64\//);
  const text = match && match.length > 1 ? match[1] : fallback;

  // Generate unique color for the string.
  const color = (0,_enum_colors__WEBPACK_IMPORTED_MODULE_7__["default"])(fallbackText || text);

  // Replace the colors in the URL.
  const index = fallback.indexOf('/64/');
  if (index !== -1) {
    avatarUrl = (0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.addQueryArgs)(avatarUrl, {
      d: `${fallback.substring(0, index + 4)}/${color.backgroundColor.replace('#', '')}/${color.color.replace('#', '')}`
    });
  }

  // Replace the size in the URL.
  if (avatarUrl.includes('%2F64%2F%')) {
    avatarUrl = avatarUrl.replace('%2F64%2F%', '%2F360%2F%');
  }
  return avatarUrl;
};
function hasCollectionNavigationLink(htmlString) {
  if (typeof htmlString !== 'string') {
    return false;
  }
  const parser = new DOMParser();
  const doc = parser.parseFromString(htmlString, 'text/html');
  return !!doc.querySelector('a[data-navigate-collection]');
}
/**
 * Displays the primary column.
 * @param {Object} props
 * @param {Object} props.record The record object.
 * @param {string} props.name  The name of the column.
 * @param {string} props.label The label of the column.
 * @param {string} props.description The description of the column.
 */
const PrimaryColumn = ({
  record,
  value,
  rawValue,
  name,
  viewType,
  path,
  handleClick,
  isHtml
}) => {
  const avatar_url = viewType !== 'table' ? '' : normalizeAvatarColors(record.avatar_url, rawValue);
  let theValue = value;
  if (isHtml) {
    if (hasCollectionNavigationLink(value)) {
      // replace all instances of data-navigate-collection with href="#" data-navigate-collection in the value.
      const theContent = value.replace(/data-navigate-collection/g, 'href="#" data-navigate-collection');
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div", {
        dangerouslySetInnerHTML: {
          __html: theContent
        },
        onClick: handleClick
      });
    }
    theValue = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div", {
      dangerouslySetInnerHTML: {
        __html: value
      }
    });
  }
  const clickableProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!path) {
      return {
        className: 'hizzlewp-records-title-field'
      };
    }
    return {
      className: 'hizzlewp-records-title-field hizzlewp-records-title-field--clickable',
      role: 'button',
      tabIndex: 0,
      onClick: event => {
        // Prevents onChangeSelection from triggering.
        event.stopPropagation();
        (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updatePath)(path);
      },
      onKeyDown: event => {
        if (event.key === 'Enter' || event.key === '' || event.key === ' ') {
          // Prevents onChangeSelection from triggering.
          event.stopPropagation();
          (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updatePath)(path);
        }
      }
    };
  }, [path]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
    spacing: 3,
    justify: "flex-start",
    children: [avatar_url && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div", {
      className: "hizzlewp-records-view-table-column-primary__media",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("img", {
        className: "hizzlewp-avatar",
        src: avatar_url,
        alt: rawValue
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div", {
      ...clickableProps,
      children: theValue
    })]
  });
};

/**
 * Displays badge list.
 *
 * @param {Object} props
 * @param {Array} props.value The value.
 * @param {Object} props.enums The enums.
 * @returns {JSX.Element}
 */
const BadgeList = ({
  value,
  enums = {}
}) => {
  const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const toShow = isOpen ? value : value.slice(0, 2);
  const showToggle = value.length > 2;

  // Display the list.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Flex, {
    gap: 2,
    justify: "flex-start",
    wrap: true,
    children: [toShow.map(val => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Badge, {
        style: (0,_enum_colors__WEBPACK_IMPORTED_MODULE_7__["default"])(val),
        children: enums[val] || val
      })
    }, val)), showToggle && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
        variant: "link",
        onClick: () => setIsOpen(!isOpen),
        children: isOpen ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Hide', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Show all', 'newsletter-optin-box')
      })
    })]
  });
};
/**
 * Displays a single cell in the records table.
 * @param {Object} props
 * @param {Object} props.row The record object.
 */
const DisplayCell = ({
  row,
  header,
  viewType = 'table',
  isBadge = false,
  namespace,
  collection
}) => {
  const value = row[header.name] && row[header.name].rendered !== undefined ? row[header.name].rendered : row[header.name];
  const rawValue = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__.getRawValue)(row[header.name]);
  const path = `${namespace}/${collection}`;
  const isHtml = header.js_props?.isHtml || row[header.name]?.rendered;
  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {
    const link = e?.target?.closest?.('a[data-navigate-collection]');
    if (link) {
      e.preventDefault();
      e.stopPropagation();
      const newPath = link.getAttribute('data-navigate-collection');
      // Check if path starts with a slash, if not, add it.
      if (!newPath.startsWith('/')) {
        (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updatePath)(`${path}/${newPath}`);
      } else {
        (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updateQueryString)({}, newPath, {});
      }
    }
  }, [path]);

  // Nulls and undefined values are displayed as a dash.
  if (rawValue === null || rawValue === undefined || rawValue === '' || Array.isArray(value) && value.length === 0) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("span", {
      className: "hizzlewp-view-table__cell--null",
      children: "\u2013"
    });
  }
  if (header.is_primary && typeof value === 'string') {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(PrimaryColumn, {
      record: row,
      name: header.name,
      viewType: viewType,
      path: `${path}/${(0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__.getRawValue)(row.id)}`,
      rawValue: rawValue,
      value: value,
      header: header,
      handleClick: handleClick,
      isHtml: isHtml
    });
  }

  // Avatar URLs are displayed as an avatar.
  if ('avatar_url' === header.name) {
    const avatar_url = normalizeAvatarColors(row.avatar_url, value, viewType !== 'table');
    if (!avatar_url) {
      return null;
    }
    if (viewType !== 'table') {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("img", {
        src: avatar_url,
        alt: value
      });
    }
    return avatar_url ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("img", {
      className: "hizzlewp-avatar",
      src: avatar_url,
      alt: value
    }) : null;
  }

  // Boolean values are displayed as a toggle.
  if (header.is_boolean) {
    const icon = value ? 'yes' : 'no';
    const color = value ? '#3a9001' : '#880000';
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Icon, {
      size: 24,
      style: {
        color
      },
      icon: icon
    });
  }

  // Dates are formatted as a date.
  if (header.is_date && value) {
    const settings = (0,_wordpress_date__WEBPACK_IMPORTED_MODULE_2__.getSettings)();
    // If value contains 10 chars, format as date, otherwise format as datetime.
    if (value.length === 10) {
      return (0,_wordpress_date__WEBPACK_IMPORTED_MODULE_2__.dateI18n)(settings.formats.date, value);
    }
    return (0,_wordpress_date__WEBPACK_IMPORTED_MODULE_2__.dateI18n)(settings.formats.datetime, value);
  }

  // Tokens.
  if (header.is_tokens && Array.isArray(value)) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(BadgeList, {
      value: value
    });
  }

  // Array with enum values are displayed as a badge.
  if (header.enum && Array.isArray(value)) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(BadgeList, {
      value: value,
      enums: header.enum
    });
  }

  // Strings, numbers, and floats are displayed as is.
  if (header.is_numeric || header.is_float || typeof value === 'string') {
    // If we have an enum, display the label.
    if (header.enum && isObject(header.enum)) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Badge, {
        style: (0,_enum_colors__WEBPACK_IMPORTED_MODULE_7__["default"])(value),
        children: header.enum?.[value] || value
      });
    }
    if (isHtml) {
      if (hasCollectionNavigationLink(value)) {
        // replace all instances of data-navigate-collection with href="#" data-navigate-collection in the value.
        const theContent = value.replace(/data-navigate-collection/g, 'href="#" data-navigate-collection');
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div", {
          dangerouslySetInnerHTML: {
            __html: theContent
          },
          onClick: handleClick
        });
      }
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div", {
        dangerouslySetInnerHTML: {
          __html: value
        }
      });
    }
    return value;
  }
  return JSON.stringify(value);
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/enum-colors.ts":
/*!******************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/enum-colors.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getEnumBadge)
/* harmony export */ });
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_0__);
/**
 * HizzleWP dependencies.
 */


/**
 * Generates a badge color based on the given string.
 *
 * @param {string} str The string to generate a color for.
 * @return {Object} The generated background and text colors.
 */
function getEnumBadge(str) {
  // Try to guess the color from the string.
  if (['subscribed', 'subscribe', 'active', 'yes', 'true', '1', 'complete'].includes(str)) {
    return {
      backgroundColor: '#78c67a',
      color: '#111111'
    };
  }
  if (['unsubscribed', 'unsubscribe', 'inactive', 'no', 'false', '0', 'canceled'].includes(str)) {
    return {
      backgroundColor: '#fbcfbd',
      color: '#241c15'
    };
  }
  if (['pending', 'waiting', 'maybe', '2'].includes(str)) {
    return {
      backgroundColor: '#fbeeca',
      color: '#241c15'
    };
  }

  // Generate unique color for the string.
  const color = (0,_hizzlewp_components__WEBPACK_IMPORTED_MODULE_0__.stringToColor)(str, {
    saturation: [60, 100],
    lightness: [30, 45]
  });
  return {
    backgroundColor: color.color,
    color: color.isLight ? '#111111' : '#ffffff'
  };
}

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/filters.tsx":
/*!***************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/filters.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FiltersButton: () => (/* binding */ FiltersButton),
/* harmony export */   columnFiltersToFlatFilters: () => (/* binding */ columnFiltersToFlatFilters),
/* harmony export */   flatFiltersToColumnFilters: () => (/* binding */ flatFiltersToColumnFilters),
/* harmony export */   prepareField: () => (/* binding */ prepareField),
/* harmony export */   useFilterableFields: () => (/* binding */ useFilterableFields),
/* harmony export */   useFilters: () => (/* binding */ useFilters)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _saved_filters__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./saved-filters */ "./packages/store-ui/src/components/routes/records-table/saved-filters.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);
/**
 * External dependencies
 */




/**
 * HizzleWP dependencies
 */




/**
 * Internal dependencies
 */


// Convert flat filters object to ColumnFilter[] format
const flatFiltersToColumnFilters = filters => {
  const columnFilters = {};
  Object.entries(filters).forEach(([key, value]) => {
    if (!value) return;

    // Check if this is a field with a suffix
    const suffixMatch = key.match(/(.*?)(_not|_min|_max|_before|_after)$/);
    const fieldName = suffixMatch ? suffixMatch[1] : key;
    const suffix = suffixMatch ? suffixMatch[2] : '';

    // Create the column filter if it doesn't exist
    if (!columnFilters[fieldName]) {
      columnFilters[fieldName] = {
        id: fieldName,
        value: []
      };
    }

    // Add the value
    columnFilters[fieldName].value.push({
      suffix,
      value
    });
  });
  return Object.values(columnFilters);
};

// Convert ColumnFilter[] format to flat filters object
const columnFiltersToFlatFilters = columnFilters => {
  const flatFilters = {};
  columnFilters.forEach(filter => {
    filter.value.forEach(value => {
      flatFilters[filter.id + value.suffix] = value.value;
    });
  });
  return flatFilters;
};

/**
 * Displays the bulk edit form.
 */
const EditForm = ({
  fields,
  onApplyFilters,
  filters,
  setAttributes
}) => {
  // Display the edit records form.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("form", {
    onSubmit: onApplyFilters,
    children: fields.map(field => {
      // If field.is_numeric || field.is_float, show _min and _max fields.
      // If field.is_date, show _before and _after fields.
      const mainSetting = {
        name: field.name,
        ...prepareField(field),
        default: '',
        placeholder: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Any', 'newsletter-optin-box'),
        canSelectPlaceholder: true
      };
      let secondarySetting = null;
      if (field.is_boolean) {
        mainSetting.el = 'select';
        mainSetting.options = {
          '1': (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Yes', 'newsletter-optin-box'),
          '0': (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('No', 'newsletter-optin-box')
        };
      } else if (field.is_numeric || field.is_float) {
        mainSetting.name = `${field.name}_min`;
        mainSetting.label = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(
        // translators: %s: Field label.
        (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__._x)('%s - Min', 'Number', 'newsletter-optin-box'), field.label);
        secondarySetting = {
          ...mainSetting,
          name: `${field.name}_max`,
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(
          // translators: %s: Field label.
          (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__._x)('%s - Max', 'Number', 'newsletter-optin-box'), field.label)
        };
      } else if (field.is_date) {
        mainSetting.name = `${field.name}_after`;
        mainSetting.label = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(
        // translators: %s: Date field label.
        (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__._x)('%s - After', 'Date', 'newsletter-optin-box'), field.label);
        secondarySetting = {
          ...mainSetting,
          name: `${field.name}_before`,
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(
          // translators: %s: Date field label.
          (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__._x)('%s - Before', 'Date', 'newsletter-optin-box'), field.label)
        };
      } else if (field.is_primary) {
        mainSetting.el = 'textarea';
        mainSetting.description = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Separate multiple values with a comma.', 'newsletter-optin-box');
      } else {
        secondarySetting = {
          ...mainSetting,
          name: `${field.name}_not`,
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(
          // translators: %s: Field label.
          (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('%s - Exclude', 'newsletter-optin-box'), field.label)
        };
      }
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div", {
          style: {
            marginBottom: '1.6rem'
          },
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.Setting, {
            settingKey: mainSetting.name,
            saved: filters,
            setAttributes: setAttributes,
            setting: mainSetting
          })
        }), secondarySetting && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div", {
          style: {
            marginBottom: '1.6rem'
          },
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.Setting, {
            settingKey: secondarySetting.name,
            saved: filters,
            setAttributes: setAttributes,
            setting: secondarySetting
          })
        })]
      }, field.name);
    })
  });
};

/**
 * Displays the bulk edit modal.
 */
const TheModal = ({
  currentFilters,
  fields,
  setOpen
}) => {
  const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({
    ...currentFilters
  });

  // A function to apply the filters.
  const onApplyFilters = e => {
    e?.preventDefault();

    // If there are no filters, don't set the query param
    if (filters && Object.keys(filters).length === 0) {
      (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.updateQueryString)({
        hizzlewp_filters: '',
        paged: '1'
      });
    } else {
      (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.updateQueryString)({
        hizzlewp_filters: JSON.stringify(filters),
        paged: '1'
      });
    }
    setOpen(false);
  };

  // Sets edited attributes.
  const setAttributes = atts => {
    setFilters({
      ...filters,
      ...atts
    });
  };

  // Display the edit records modal.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(EditForm, {
      fields: fields,
      filters: filters,
      onApplyFilters: onApplyFilters,
      setAttributes: setAttributes
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
      className: "hizzlewp-block-button",
      variant: "primary",
      onClick: onApplyFilters,
      text: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Apply Filters', 'newsletter-optin-box')
    })]
  });
};

/**
 * Returns a list of filterable fields.
 */
const useFilterableFields = ({
  isBulkEditing = false
}) => {
  const {
    config: data
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollectionConfig)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!data.schema) {
      return [];
    }
    return data.schema.filter(field => {
      // Remove readonly fields.
      if (field.readonly && isBulkEditing || field.is_dynamic) {
        return false;
      }

      // Remove ignorable fields.
      if (Array.isArray(data.ignore) && data.ignore.includes(field.name)) {
        return false;
      }

      // Remove hidden fields.
      if (Array.isArray(data.hidden) && data.hidden.includes(field.name)) {
        return false;
      }

      // Allow tokens.
      if (field.is_tokens) {
        return true;
      }

      // If we're not bulk editing, include numbers and dates.
      if (!isBulkEditing && (field.is_numeric || field.is_float || field.is_date || field.is_primary)) {
        return true;
      }

      // Remove non-selectable fields.
      if (!field.enum || Array.isArray(field.enum)) {
        return false;
      }
      return true;
    });
  }, [data, isBulkEditing]);
};

/**
 * Prepares a field for use in a setting.
 */
const prepareField = field => {
  const prepared = {
    default: field.default,
    label: field.label,
    el: 'input',
    type: 'text',
    name: field.name,
    isInputToChange: true
  };

  // Custom attributes.
  if (field.js_props?.setting) {
    prepared.customAttributes = field.js_props.setting;
  }

  // Conditions.
  if (field.js_props?.conditions) {
    prepared.conditions = field.js_props?.conditions;
  }

  // Tokens.
  if (field.is_tokens) {
    prepared.el = 'form_token';
    prepared.suggestions = field.suggestions;
  } else if (field.enum && !Array.isArray(field.enum)) {
    prepared.el = 'select';
    prepared.options = field.enum;
    if (field.multiple) {
      prepared.multiple = true;
    }
  } else if (field.is_textarea) {
    prepared.el = 'textarea';
  }
  if (field.is_numeric || field.is_float) {
    prepared.type = 'number';
  }
  if (field.is_date) {
    prepared.type = 'datetime-local';
    prepared.placeholder = 'YYYY-MM-DDTHH:MM:SS+ZZ:ZZ';
  }
  if (field.is_boolean) {
    prepared.type = 'toggle';
  }
  if (field.description && field.description !== field.label) {
    prepared.description = field.description;
  }
  return prepared;
};

/**
 * Returns the filters and the fields.
 */
const useFilters = () => {
  const query = (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.useQuery)();
  const fields = useFilterableFields({
    isBulkEditing: false
  });
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const filters = [];
    const filtersString = query?.hizzlewp_filters;

    // Return empty state if no filters query parameter exists
    if (!filtersString || typeof filtersString !== 'string') {
      return {
        fields,
        filters: [],
        preparedFilters: {}
      };
    }
    try {
      // Parse the JSON string from the query parameter
      const parsedFilters = JSON.parse(filtersString);

      // Validate the parsed filters structure
      if (!parsedFilters || 'object' !== typeof parsedFilters) {
        return {
          fields,
          filters: [],
          preparedFilters: {}
        };
      }

      // Convert flat filters object to ColumnFilter format
      const columnFilters = flatFiltersToColumnFilters(parsedFilters);

      // Ensure we got a valid array back
      if (!Array.isArray(columnFilters)) {
        return {
          fields,
          filters: [],
          preparedFilters: {}
        };
      }
      filters.push(...columnFilters);
    } catch (error) {
      // If JSON parsing fails, return empty state
      return {
        fields,
        filters: [],
        preparedFilters: {}
      };
    }

    // Filter out invalid filters:
    // - Must have an id
    // - Must correspond to an available field
    // - Must have a non-empty value array
    const filteredFilters = filters.filter(filter => {
      return filter.id && fields.some(field => field.name === filter.id) && Array.isArray(filter.value) && filter.value.length > 0;
    });

    // Convert back to flat format for use in components
    const preparedFilters = columnFiltersToFlatFilters(filteredFilters);
    return {
      fields,
      filters: filteredFilters,
      preparedFilters
    };
  }, [query, fields]);
};

/**
 * Displays a filters edit button.
 */
const FiltersButton = () => {
  const [isOpen, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const {
    fields,
    preparedFilters
  } = useFilters();
  const numFilters = Object.keys(preparedFilters).length;
  const buttonText = numFilters > 0 ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(
  // translators: %d: number of filters applied.
  (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Applied Filters (%d)', 'newsletter-optin-box'), numFilters) : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Filter Records', 'newsletter-optin-box');

  // Display the button.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
    expanded: false,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_saved_filters__WEBPACK_IMPORTED_MODULE_6__.SavedFiltersDropdown, {}), fields.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
        onClick: () => setOpen(true),
        variant: numFilters > 0 ? 'tertiary' : undefined,
        icon: "filter",
        text: buttonText
      }), isOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Modal, {
        title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Filter records', 'newsletter-optin-box'),
        onRequestClose: () => setOpen(false),
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(TheModal, {
          fields: fields,
          currentFilters: preparedFilters,
          setOpen: setOpen
        })
      })]
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/header/delete.tsx":
/*!*********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/header/delete.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkDelete: () => (/* binding */ BulkDelete)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */




/**
 * HizzleWP dependencies
 */


/**
 * Displays a delete button.
 *
 */

const BulkDelete = ({
  query,
  isAllSelected,
  recordsCount
}) => {
  // If we're here, the namespace and collection are provided.
  const {
    namespace,
    collection
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollection)() || {};

  // Whether the modal is open.
  const [isOpen, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  // Deleting state.
  const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
  const [deleting, setDeleting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  // Title.
  const title = isAllSelected ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Delete', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Delete Selected', 'newsletter-optin-box');
  const {
    bulkDeleteCollectionRecords
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store);

  // A function to delete records.
  const onDeleteRecords = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {
    e?.preventDefault();

    // Delete once.
    if (deleting) {
      return;
    }
    setDeleting(true);
    bulkDeleteCollectionRecords(namespace, collection, query).then(res => {
      setOpen(false);
    }).catch(error => {
      setError(error);
    }).finally(() => {
      setDeleting(false);
    });
  }, [deleting, namespace, collection, query]);
  const warningText = error?.message || (isAllSelected ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.sprintf)(
  // translators: %d: Number of records being deleted.
  (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Are you sure you want to delete %d matching records?', 'newsletter-optin-box'), recordsCount) : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.sprintf)(
  // translators: %d: Number of records being deleted.
  (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Are you sure you want to delete %d selected records?', 'newsletter-optin-box'), recordsCount));
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
      onClick: () => setOpen(true),
      variant: "tertiary",
      text: title,
      label: !isAllSelected ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Delete Selected', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Delete all matching records', 'newsletter-optin-box'),
      showTooltip: true,
      isDestructive: true
    }), isOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Modal, {
      title: title,
      onRequestClose: () => setOpen(false),
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalVStack, {
        children: deleting ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Spinner, {}), (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Deleting...', 'newsletter-optin-box')]
        }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalText, {
            isDestructive: true,
            children: warningText
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalHStack, {
            wrap: true,
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
              className: "hizzlewp-block-button",
              isDestructive: true,
              variant: "primary",
              onClick: onDeleteRecords,
              children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Yes, Delete!', 'newsletter-optin-box')
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
              className: "hizzlewp-block-button",
              onClick: () => setOpen(false),
              variant: "secondary",
              children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Cancel', 'newsletter-optin-box')
            })]
          })]
        })
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/header/edit.tsx":
/*!*******************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/header/edit.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkEdit: () => (/* binding */ BulkEdit)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _filters__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../filters */ "./packages/store-ui/src/components/routes/records-table/filters.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);
/**
 * External dependencies
 */





/**
 * HizzleWP dependencies
 */



/**
 * Local dependancies.
 */


/**
 * Displays the bulk edit form.
 */

const EditForm = ({
  editableFields,
  onSave,
  changes,
  setAttributes
}) => {
  // Display the edit records form.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("form", {
    onSubmit: onSave,
    children: editableFields.map(field => {
      const preparedSetting = {
        name: field.name,
        ...(0,_filters__WEBPACK_IMPORTED_MODULE_6__.prepareField)(field),
        default: '',
        placeholder: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Do not update', 'newsletter-optin-box')
      };
      let toRemoveSetting = null;
      if (field.multiple) {
        preparedSetting.label = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.sprintf)(
        // translators: %s: Field label, e.g. "Tags".
        (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('%s - To Add', 'newsletter-optin-box'), field.label);
        preparedSetting.name = `${field.name}::add`;
        toRemoveSetting = {
          ...preparedSetting,
          name: `${field.name}::remove`,
          label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.sprintf)(
          // translators: %s: Field label, e.g. "Tags".
          (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('%s - To Remove', 'newsletter-optin-box'), field.label)
        };
      }
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Fragment, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div", {
          style: {
            marginBottom: '1.6rem'
          },
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__.Setting, {
            settingKey: preparedSetting.name,
            saved: changes,
            setAttributes: setAttributes,
            setting: preparedSetting
          })
        }), toRemoveSetting && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div", {
          style: {
            marginBottom: '1.6rem'
          },
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__.Setting, {
            settingKey: toRemoveSetting.name,
            saved: changes,
            setAttributes: setAttributes,
            setting: toRemoveSetting
          })
        })]
      }, field.name);
    })
  });
};

/**
 * Displays a bulk edit button.
 *
 */
const BulkEdit = ({
  isBulkEditing = true,
  query,
  isAllSelected,
  recordsCount
}) => {
  // If we're here, the namespace and collection are provided.
  const {
    namespace,
    collection
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__.useProvidedCollection)() || {};

  // Whether the modal is open.
  const [isOpen, setOpen] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(false);

  // Title.
  const title = isAllSelected ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Bulk Edit', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Edit Selected', 'newsletter-optin-box');

  // Saving state.
  const [error, setError] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
  const [saving, setSaving] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [saved, setSaved] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(false);

  // Data to update.
  const [changes, setChanges] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)({});
  const hasChanges = Object.keys(changes).length > 0;
  const setAttributes = atts => {
    setChanges({
      ...changes,
      ...atts
    });
    if (error) {
      setError(null);
    }
    if (saved) {
      setSaved(false);
    }
  };

  // A function to save records.
  const {
    bulkUpdateCollectionRecords
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__.store);
  const onSaveRecords = e => {
    e?.preventDefault();

    // Save once.
    if (saving) {
      return;
    }
    setSaving(true);
    bulkUpdateCollectionRecords(namespace || '', collection || '', query, changes).then(() => {
      setSaved(true);
      setChanges({});
    }).catch(error => {
      setError(error);
    }).finally(() => {
      setSaving(false);
    });
  };

  // Get the bulk editable fields.
  const editableFields = (0,_filters__WEBPACK_IMPORTED_MODULE_6__.useFilterableFields)({
    isBulkEditing
  });

  // Whether we should display the button.
  if (editableFields.length === 0) {
    return null;
  }

  // Display the button.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
      onClick: () => setOpen(true),
      variant: "tertiary",
      text: title,
      label: !isAllSelected ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Edit Selected', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Edit all matching records', 'newsletter-optin-box'),
      showTooltip: true
    }), isOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Modal, {
      title: title,
      onRequestClose: () => setOpen(false),
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(EditForm, {
        editableFields: editableFields,
        changes: changes,
        onSave: onSaveRecords,
        setAttributes: setAttributes
      }), hasChanges && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
        className: "hizzlewp-block-button",
        variant: "primary",
        onClick: onSaveRecords,
        isBusy: saving,
        children: [!saving && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Icon, {
          icon: "cloud-saved"
        }), "\xA0", (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.sprintf)(saving ?
        // translators: %d: Number of records being saved.
        (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Updating %d records...', 'newsletter-optin-box') :
        // translators: %d: Number of records being edited.
        (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Update %d records', 'newsletter-optin-box'), recordsCount), saving && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Spinner, {})]
      }), error && !hasChanges && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Notice, {
        status: "error",
        isDismissible: true,
        children: error.message
      }), saved && !hasChanges && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Notice, {
        status: "success",
        isDismissible: true,
        children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Records updated successfully.', 'newsletter-optin-box')
      })]
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/header/export/download.tsx":
/*!******************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/header/export/download.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Download: () => (/* binding */ Download)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! papaparse */ "./node_modules/papaparse/papaparse.min.js");
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * External dependencies.
 */




/**
 * WordPress dependencies.
 */



/**
 * HizzleWP dependencies.
 */


/**
 * Fetches records from the API and converts them to CSV.
 *
 * @param {Object} args
 * @param {Array} args.fields The fields to export.
 * @param {Function} args.back The callback to call when clicking on the back button.
 * @param {Array} args.schema The schema of the collection.
 */

const Download = ({
  fields,
  back,
  query
}) => {
  const {
    config: {
      namespace,
      collection,
      props
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__.useProvidedCollectionConfig)();

  // Fetch the records.
  const exportArgs = {
    ...query,
    __fields: fields.join(','),
    per_page: -1,
    context: 'edit'
  };
  const records = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_5__.useCollectionRecords)(namespace, collection, exportArgs);

  // Loop through columns and and try to replace the column name with the label where possible.
  const columns = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!records.records?.length) {
      return [];
    }

    // Pluck name and label from the schema.
    const knownFields = props.reduce((acc, field) => {
      acc[field.name] = field.js_props?.table_label || field.label;
      return acc;
    }, {});

    // Map the known fields to record fields.
    return Object.keys(records.records[0]).map(column => {
      return knownFields[column] || column;
    });
  }, [props, records.records]);

  // Convert to CSV.
  const csv = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!records.records?.length || !columns.length) {
      return '';
    }
    return papaparse__WEBPACK_IMPORTED_MODULE_1___default().unparse({
      fields: columns,
      data: records.records.map(record => {
        return Object.values(record);
      })
    }, {
      escapeFormulae: true
    });
  }, [records.records, columns]);
  const backButton = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Button, {
    variant: "link",
    onClick: back,
    children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Go Back', 'newsletter-optin-box')
  });

  // Short spinner if loading.
  if (records.isResolving) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalText, {
      size: 16,
      as: "p",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Spinner, {
        style: {
          marginLeft: 0
        }
      }), (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Preparing records...', 'newsletter-optin-box')]
    });
  }

  // Show error if any.
  if ('ERROR' === records.status || records.error) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Notice, {
      status: "error",
      isDismissible: false,
      children: [records.error?.message || 'An unknown error occurred.', "\xA0 \xA0", backButton]
    });
  }

  // If no records, nothing to export.
  if (!records.records?.length) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Notice, {
      status: "info",
      isDismissible: false,
      children: ["Found no records to export.\xA0 \xA0", backButton]
    });
  }
  const filename = `${namespace}-${collection}-${Date.now()}.csv`;

  // Force download.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Notice, {
    status: "success",
    isDismissible: false,
    children: [(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)("Done! Click the button below to download records.", 'newsletter-optin-box'), "\xA0 \xA0", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Button, {
      variant: "primary",
      text: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Download CSV', 'newsletter-optin-box'),
      onClick: () => (0,file_saver__WEBPACK_IMPORTED_MODULE_2__.saveAs)(new Blob([csv], {
        type: "text/csv;charset=utf-8"
      }), filename)
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/header/export/index.tsx":
/*!***************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/header/export/index.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportButton: () => (/* binding */ ExportButton)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modal */ "./packages/store-ui/src/components/routes/records-table/header/export/modal.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);
/**
 * External dependencies.
 */


/**
 * WordPress dependencies.
 */



/**
 * HizzleWP dependencies
 */


/**
 * Internal dependencies.
 */


/**
 * Displays a modal allowing users to export all records matching the current collection.
 *
 */

const ExportButton = ({
  query,
  isAllSelected,
  recordsCount
}) => {
  // Whether the modal is open.
  const [isOpen, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  // Title.
  const title = isAllSelected ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Download', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Download Selected', 'newsletter-optin-box');
  const modalTitle = isAllSelected ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.sprintf)(/* translators: %s: number of records */
  (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Download all %s records', 'newsletter-optin-box'), recordsCount) : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.sprintf)(/* translators: %s: number of records */
  (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Download %s selected records', 'newsletter-optin-box'), recordsCount);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
      onClick: () => setOpen(true),
      variant: "tertiary",
      text: title,
      label: !isAllSelected ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Download Selected', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Download all matching records', 'newsletter-optin-box'),
      showTooltip: true
    }), isOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Modal, {
      title: modalTitle,
      onRequestClose: () => setOpen(false),
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div", {
        className: "hizzle-records-export-modal__body",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_modal__WEBPACK_IMPORTED_MODULE_4__.Modal, {
            query: query
          })
        })
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/header/export/modal.tsx":
/*!***************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/header/export/modal.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Modal: () => (/* binding */ Modal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _download__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./download */ "./packages/store-ui/src/components/routes/records-table/header/export/download.tsx");
/* harmony import */ var _select_fields__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-fields */ "./packages/store-ui/src/components/routes/records-table/header/export/select-fields.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies.
 */


/**
 * Internal dependencies.
 */



/**
 * The modal content.
 *
 */

const Modal = ({
  query
}) => {
  // Prepare state.
  const {
    config: {
      hidden,
      ignore,
      props
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_1__.useProvidedCollectionConfig)();
  const [fields, setFields] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.map(field => hidden.includes(field.name) || ignore.includes(field.name) ? null : field.name).filter(Boolean));
  const [step, setStep] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('fields');

  // If we are showing fields...
  if ('fields' === step) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_select_fields__WEBPACK_IMPORTED_MODULE_3__.SelectFields, {
      fields: fields,
      setFields: setFields,
      next: () => setStep('progress')
    });
  }

  // If we are showing the download progress...
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_download__WEBPACK_IMPORTED_MODULE_2__.Download, {
    fields: fields,
    query: query,
    back: () => setStep('fields')
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/header/export/select-fields.tsx":
/*!***********************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/header/export/select-fields.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectFields: () => (/* binding */ SelectFields)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);
/**
 * External dependencies.
 */

/**
 * WordPress dependencies.
 */



/**
 * HizzleWP dependencies.
 */


/**
 * Allows the user to select which fields to export.
 *
 * @param {Object} args
 * @param {Array} args.fields The fields to export.
 * @param {Function} args.setFields The function to update the fields.
 * @param {Object} args.schema The schema of the collection.
 * @param {Array} args.schema.schema The schema of the collection.
 * @param {Array} args.schema.ignore The fields to ignore.
 * @param {Function} args.next The function to go to the next step.
 */

const SelectFields = ({
  fields,
  setFields,
  next
}) => {
  const {
    config: {
      ignore,
      props
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__.useProvidedCollectionConfig)();
  const schema = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => props.filter(field => !ignore.includes(field.name)), [props, ignore]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Flex, {
    direction: 'column',
    gap: 4,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p", {
        className: "description",
        children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Select the fields to include in your exported file', 'newsletter-optin-box')
      })
    }), schema.map(field => {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.ToggleControl, {
          label: field.label === field.description ? field.label : `${field.label} (${field.description})`,
          checked: fields.includes(field.name),
          onChange: () => {
            if (fields.includes(field.name)) {
              setFields(fields.filter(name => name !== field.name));
            } else {
              setFields([...fields, field.name]);
            }
          },
          __nextHasNoMarginBottom: true
        })
      }, field.name);
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
        className: "hizzlewp-block-button",
        variant: "primary",
        onClick: next,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Icon, {
          icon: "download"
        }), (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Download', 'newsletter-optin-box')]
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/header/index.tsx":
/*!********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/header/index.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Header: () => (/* binding */ Header),
/* harmony export */   useBulkActionArgs: () => (/* binding */ useBulkActionArgs)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _export__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./export */ "./packages/store-ui/src/components/routes/records-table/header/export/index.tsx");
/* harmony import */ var _delete__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./delete */ "./packages/store-ui/src/components/routes/records-table/header/delete.tsx");
/* harmony import */ var _edit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./edit */ "./packages/store-ui/src/components/routes/records-table/header/edit.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);
/**
 * External dependencies.
 */


/**
 * WordPress dependencies.
 */




/**
 * HizzleWP dependencies.
 */



/**
 * Local dependencies.
 */




/**
 * Get the bulk action arguments.
 *
 * @param {Record<string, any>} query The query.
 * @returns The bulk action arguments.
 */

const useBulkActionArgs = query => {
  // If we're here, the namespace and collection are provided.
  const {
    namespace,
    collection
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollection)() || {};

  // Get the selected records.
  const records = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => ({
    selected: select(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store).getSelectedCollectionRecords(namespace, collection, query),
    isAllSelected: select(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store).getIsAllCollectionRecordsSelected(namespace, collection, query),
    matchingRecordsCount: select(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store).getCollectionRecordsTotalItems(namespace, collection, query)
  }), [namespace, collection, query]);

  // Get the selected records.
  const selected = Object.values(records.selected).filter(Boolean);

  // Use the query if we're selecting all records or if there are no selected records.
  const isAllSelected = records.isAllSelected || !selected.length;
  const toIgnore = ['order', 'orderby', 'paged', 'per_page'];
  const filteredQuery = Object.fromEntries(Object.entries(query).filter(([key]) => !toIgnore.includes(key)));
  return {
    isAllSelected,
    query: isAllSelected ? filteredQuery : {
      include: Object.keys(records.selected).filter(key => records.selected[key])
    },
    recordsCount: isAllSelected ? records.matchingRecordsCount : selected.length
  };
};

/**
 * Action item.
 *
 * @param {React.ReactNode} children The children.
 * @returns The action item.
 */
const ActionItem = ({
  children
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
      children: children
    })
  });
};

/**
 * Header.
 *
 * @param {Record<string, any>} query The query.
 * @returns The header.
 */
const Header = ({
  query
}) => {
  const args = useBulkActionArgs(query);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(ActionItem, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_edit__WEBPACK_IMPORTED_MODULE_7__.BulkEdit, {
        ...args,
        isBulkEditing: true
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(ActionItem, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_export__WEBPACK_IMPORTED_MODULE_5__.ExportButton, {
        ...args
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(ActionItem, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_delete__WEBPACK_IMPORTED_MODULE_6__.BulkDelete, {
        ...args
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/index.tsx":
/*!*************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/index.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RecordsTable: () => (/* binding */ RecordsTable),
/* harmony export */   usePreparedQuery: () => (/* binding */ usePreparedQuery)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _hizzlewp_records__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hizzlewp/records */ "@hizzlewp/records");
/* harmony import */ var _hizzlewp_records__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_records__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _hizzlewp_interface__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @hizzlewp/interface */ "@hizzlewp/interface");
/* harmony import */ var _hizzlewp_interface__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _display_cell__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./display-cell */ "./packages/store-ui/src/components/routes/records-table/display-cell.tsx");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./header */ "./packages/store-ui/src/components/routes/records-table/header/index.tsx");
/* harmony import */ var _filters__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./filters */ "./packages/store-ui/src/components/routes/records-table/filters.tsx");
/* harmony import */ var _item_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./item-actions */ "./packages/store-ui/src/components/routes/records-table/item-actions.tsx");
/* harmony import */ var _saved_filters__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./saved-filters */ "./packages/store-ui/src/components/routes/records-table/saved-filters.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies.
 */



/**
 * HizzleWP dependencies.
 */






/**
 * Local dependencies.
 */






/**
 * Returns a prepared query.
 *
 * @returns {Record<string, any>} The prepared query.
 */

const usePreparedQuery = (namespace, collection) => {
  // Prepare the state saved in preferences.
  const {
    preferences
  } = (0,_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_7__.usePreferences)('recordsTablePreferences', `${namespace}/${collection}`);

  // Current query.
  const query = (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.useQuery)();

  // Current filters.
  const {
    preparedFilters
  } = (0,_filters__WEBPACK_IMPORTED_MODULE_10__.useFilters)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const preparedQuery = {
      ...query,
      ...preparedFilters
    };
    if (!query.orderby && preferences?.sorting?.[0]?.id) {
      preparedQuery.orderby = preferences.sorting[0].id;
      preparedQuery.order = preferences.sorting[0].desc ? 'desc' : 'asc';
    }
    if (!query.per_page && preferences?.pagination?.pageSize) {
      preparedQuery.per_page = preferences.pagination.pageSize;
    }

    // If per_page is set but not in PER_PAGE_OPTIONS, default to -1 (show all)
    if (preparedQuery.per_page && !_hizzlewp_records__WEBPACK_IMPORTED_MODULE_6__.PER_PAGE_OPTIONS.includes(Number(preparedQuery.per_page))) {
      preparedQuery.per_page = -1;
    }

    // Remove page and hizzlewp_filters from the query.
    delete preparedQuery.page;
    delete preparedQuery.hizzlewp_filters;
    return preparedQuery;
  }, [query, preparedFilters, preferences]);
};

/**
 * Renders a records overview table for the matching path.
 *
 * @returns The records table.
 */
const RecordsTable = () => {
  // If we're here, the config is already resolved and won't return undefined.
  const {
    config: {
      namespace,
      collection,
      props,
      ignore,
      hidden,
      badges,
      labels
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollectionConfig)() || {};

  // Prepare the state saved in preferences.
  const {
    preferences,
    setPreferences
  } = (0,_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_7__.usePreferences)('recordsTablePreferences', `${namespace}/${collection}`);

  // Backwards compatibility.
  const {
    preferences: viewPreferences
  } = (0,_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_7__.usePreferences)('view', `${namespace}/${collection}`);

  // Current query.
  const query = (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.useQuery)();
  const preparedQuery = usePreparedQuery(namespace, collection);

  // Record results for the current query.
  const results = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useCollectionRecords)(namespace, collection, preparedQuery);

  // Available columns.
  const {
    columns,
    primaryColumn
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const columns = [];
    let primaryColumn = '';
    props.forEach(prop => {
      // Abort if dynamic column.
      if (prop.is_textarea && !prop.is_tokens && (!prop.enum || Array.isArray(prop.enum)) || ignore.includes(prop.name) || 'hide' === prop.js_props?.table) {
        return;
      }
      if (prop.is_primary) {
        primaryColumn = prop.name;
      }
      columns.push({
        accessorKey: prop.name,
        header: prop.js_props?.table_label || prop.label,
        enableSorting: !prop.is_dynamic && !prop.is_meta,
        enableColumnFilter: !prop.is_dynamic,
        enableHiding: !prop.is_primary,
        cell: ({
          row
        }) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_display_cell__WEBPACK_IMPORTED_MODULE_8__.DisplayCell, {
          row: row.original,
          header: prop,
          isBadge: Array.isArray(badges) && badges.includes(prop.name),
          namespace: namespace,
          collection: collection
        }),
        meta: {
          is_primary: prop.is_primary,
          options: prop.enum,
          multiple: prop.multiple,
          is_dynamic: prop.is_dynamic,
          is_boolean: prop.is_boolean,
          is_numeric: prop.is_numeric || prop.is_float,
          is_date: prop.is_date,
          is_tokens: prop.is_tokens,
          suggestions: prop.suggestions
        }
      });
    });

    // Add actions column.
    columns.push({
      id: 'hizzlewp-actions',
      header: 'Actions',
      enableSorting: false,
      enableColumnFilter: false,
      enableHiding: false,
      enablePinning: false,
      cell: ({
        row
      }) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_item_actions__WEBPACK_IMPORTED_MODULE_11__.ItemActions, {
        actions: row.original.hizzlewp_actions,
        namespace: namespace,
        collection: collection,
        id: (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.getRawValue)(row.original.id)
      })
    });
    return {
      columns,
      primaryColumn
    };
  }, [props, ignore]);
  const columnVisibility = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const hiddenColumns = Array.isArray(viewPreferences?.hiddenFields) ? viewPreferences?.hiddenFields : hidden;
    return hiddenColumns.reduce((acc, column) => {
      acc[column] = false;
      return acc;
    }, {});
  }, [hidden, viewPreferences]);

  // Current filters.
  const {
    filters
  } = (0,_filters__WEBPACK_IMPORTED_MODULE_10__.useFilters)();

  // State.
  const state = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const querySort = query.orderby;
    const queryOrder = query.order || 'desc';
    const isShowingAll = preparedQuery.per_page && Number(preparedQuery.per_page) === -1;
    const state = {
      columnVisibility,
      columnPinning: {
        left: ['hizzlewp-selection', primaryColumn].filter(Boolean),
        right: ['hizzlewp-actions']
      },
      ...preferences,
      sorting: querySort ? [{
        id: querySort,
        desc: queryOrder === 'desc'
      }] : preferences?.sorting || [],
      pagination: {
        pageSize: isShowingAll ? results.totalItems : query.per_page || preferences?.pagination?.pageSize || 25,
        // Don't read the current page from preferences, as it's not saved.
        pageIndex: isShowingAll ? 0 : query.paged ? Number(query.paged) - 1 : 0
      },
      rowSelection: results.selected,
      globalFilter: query.search || '',
      columnFilters: filters
    };
    return state;
  }, [results.selected, results.totalItems, query, preferences, filters]);

  // Update state.
  const onChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(state => {
    setPreferences(state);
    const isShowingAll = state?.pagination?.pageSize && !_hizzlewp_records__WEBPACK_IMPORTED_MODULE_6__.PER_PAGE_OPTIONS.includes(Number(state?.pagination?.pageSize));
    (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.updateQueryString)({
      orderby: state?.sorting?.[0]?.id || '',
      order: state?.sorting?.[0]?.desc ? 'desc' : 'asc',
      per_page: isShowingAll ? '-1' : `${state?.pagination?.pageSize || 25}`,
      paged: isShowingAll ? '1' : `${(state?.pagination?.pageIndex || 0) + 1}`
    });
  }, [setPreferences]);

  // Toggle a record's selection.
  const {
    setSelectedCollectionRecords
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store);
  const isLoading = results.isResolving || !results.hasResolved;
  if (!isLoading && results.status === 'ERROR') {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Notice, {
      status: "error",
      isDismissible: false,
      children: results.error?.message || 'An unknown error occurred.'
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Fill, {
        name: `end/in/filters/${namespace}/${collection}`,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_saved_filters__WEBPACK_IMPORTED_MODULE_12__.SavedFiltersManager, {
          query: query
        })
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_hizzlewp_records__WEBPACK_IMPORTED_MODULE_6__.Records, {
        rowCount: results.totalItems || 0,
        data: results.records || [],
        columns: columns,
        isLoading: isLoading,
        enableSorting: true,
        enablePagination: true,
        state: state,
        onChange: onChange,
        enableRowSelection: true,
        onRowSelectionChange: rowSelection => setSelectedCollectionRecords(namespace, collection, preparedQuery, rowSelection(state?.rowSelection || {})),
        onColumnPinningChange: columnPinning => onChange({
          ...state,
          columnPinning: columnPinning(state?.columnPinning || {})
        }),
        onGlobalFilterChange: globalFilter => {
          (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.updateQueryString)({
            search: globalFilter || '',
            paged: '1'
          });
        },
        onColumnFiltersChange: columnFilters => {
          const newValue = Array.isArray(columnFilters) && columnFilters.length > 0 ? JSON.stringify((0,_filters__WEBPACK_IMPORTED_MODULE_10__.columnFiltersToFlatFilters)(columnFilters)) : '';
          (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_5__.updateQueryString)({
            hizzlewp_filters: newValue,
            paged: '1'
          });
        },
        getRowId: row => (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.getRawValue)(row.id),
        searchLabel: labels?.search_items || 'Search',
        bulkActions: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_header__WEBPACK_IMPORTED_MODULE_9__.Header, {
          query: preparedQuery
        }),
        slotName: `${namespace}/${collection}`,
        filtersButton: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary, {
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_filters__WEBPACK_IMPORTED_MODULE_10__.FiltersButton, {})
        })
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/item-actions.tsx":
/*!********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/item-actions.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ItemActions: () => (/* binding */ ItemActions)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/more-vertical.js");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../actions */ "./packages/store-ui/src/components/actions/delete-action.tsx");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../actions */ "./packages/store-ui/src/components/actions/remote-action.tsx");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../actions */ "./packages/store-ui/src/components/actions/copy-action.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);
/**
 * External dependencies.
 */


/**
 * WordPress dependencies
 */




/**
 * HizzleWP dependencies
 */


/**
 * Local dependencies
 */


/**
 * Type definitions
 */

const EMPTY_ACTIONS = [];
const ItemActions = ({
  actions,
  isOverview = false,
  ...props
}) => {
  const {
    primaryActions,
    preparedActions
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const preparedActions = [...(actions || EMPTY_ACTIONS)];

    // Prepend edit action if it doesn't exist.
    if (!isOverview && !preparedActions.find(action => action.id === 'edit')) {
      preparedActions.unshift({
        id: 'edit',
        type: 'edit',
        text: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Edit'),
        icon: 'edit',
        isPrimary: true
      });
    }

    // Append delete action if it doesn't exist.
    if (!preparedActions.find(action => action.id === 'delete')) {
      preparedActions.push({
        id: 'delete',
        type: 'delete',
        text: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Delete'),
        isPrimary: isOverview,
        icon: 'trash'
      });
    }
    return {
      primaryActions: preparedActions.filter(action => action.isPrimary && !!action.icon),
      preparedActions
    };
  }, [actions]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
    spacing: 1,
    justify: "flex-end",
    className: "hizzlewp-records-item-actions",
    style: {
      flexShrink: '0',
      width: 'auto'
    },
    onClick: event => {
      // Prevents onChangeSelection from triggering.
      event.stopPropagation();
    },
    expanded: false,
    children: [primaryActions.map(action => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(CompactItemAction, {
      as: _wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button,
      action: action,
      onClose: () => {},
      ...props
    }, action.id)), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(CompactItemActions, {
      actions: preparedActions,
      ...props,
      isOverview: isOverview
    })]
  });
};
const CompactItemActions = ({
  actions,
  isOverview,
  ...props
}) => {
  let buttonProps = {
    className: 'hizzlewp-records-all-actions-button',
    size: 'compact'
  };
  if (isOverview) {
    buttonProps = {
      iconSize: 32,
      variant: 'tertiary'
    };
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Actions'),
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_3__["default"],
    toggleProps: {
      ...buttonProps,
      disabled: !actions.length
    },
    popoverProps: {
      placement: 'bottom-end'
    },
    children: ({
      onClose
    }) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment, {
      children: actions.map(action => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(CompactItemAction, {
        action: action,
        onClose: onClose,
        ...props
      }, action.id))
    })
  });
};
const CompactItemAction = ({
  action,
  onClose,
  as = undefined,
  ...props
}) => {
  const {
    isPrimary,
    type,
    ...actionProps
  } = action;
  if ('copy' === type) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(RenderAction, {
      as: as,
      Component: _actions__WEBPACK_IMPORTED_MODULE_7__.CopyAction,
      props: props,
      ...actionProps,
      onClick: onClose
    });
  }
  if ('delete' === type) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(RenderAction, {
      as: as,
      Component: _actions__WEBPACK_IMPORTED_MODULE_5__.DeleteAction,
      props: props,
      ...actionProps,
      ...props,
      onClick: onClose
    });
  }
  if ('remote' === type) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(RenderAction, {
      as: as,
      Component: _actions__WEBPACK_IMPORTED_MODULE_6__.RemoteAction,
      props: props,
      ...actionProps,
      ...props,
      onClick: onClose
    });
  }
  const buttonProps = {
    ...actionProps
  };
  if ('edit' === type) {
    buttonProps.onClick = () => {
      (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_4__.updatePath)(`/${props.namespace}/${props.collection}/${props.id}`);
      onClose?.();
    };
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(RenderAction, {
    as: as,
    props: props,
    ...buttonProps
  });
};
const RenderAction = ({
  props,
  Component = undefined,
  as,
  text,
  ...extraProps
}) => {
  const ActionAs = as || _wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem;
  const actionProps = {
    label: text,
    ...extraProps
  };
  const RenderComponent = Component || ActionAs;
  if (Component) {
    actionProps.as = ActionAs;
  }
  if (as) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(RenderComponent, {
      showTooltip: true,
      ...actionProps
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(RenderComponent, {
    ...actionProps,
    children: text
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/records-table/saved-filters.tsx":
/*!*********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/records-table/saved-filters.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SavedFiltersDropdown: () => (/* binding */ SavedFiltersDropdown),
/* harmony export */   SavedFiltersManager: () => (/* binding */ SavedFiltersManager),
/* harmony export */   prepareQueryString: () => (/* binding */ prepareQueryString),
/* harmony export */   useAvailableFilters: () => (/* binding */ useAvailableFilters)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/url */ "@wordpress/url");
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_url__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_interface__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/interface */ "@hizzlewp/interface");
/* harmony import */ var _hizzlewp_interface__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */




/**
 * HizzleWP dependencies
 */




/**
 * A saved filter configuration.
 */

/**
 * Hook to manage saved filters using WordPress preferences
 */
const useSavedFilters = (namespace, collection) => {
  const {
    preferences,
    setPreferences
  } = (0,_hizzlewp_interface__WEBPACK_IMPORTED_MODULE_5__.usePreferences)('savedFilters', `${namespace}/${collection}`);
  const savedFilters = preferences || {};

  /**
   * Saves a new filter configuration.
   */
  const saveFilter = (name, query) => {
    setPreferences({
      ...savedFilters,
      [prepareQueryString(query)]: name.trim()
    });
  };

  /**
   * Deletes a saved filter configuration.
   */
  const deleteFilter = query => {
    setPreferences(Object.fromEntries(Object.entries(savedFilters).filter(([key]) => key !== prepareQueryString(query))));
  };
  return {
    savedFilters: {
      ...Object.entries(savedFilters).reduce((acc, [query, name]) => ({
        ...acc,
        [prepareQueryString(query)]: name.trim()
      }), {})
    },
    saveFilter,
    deleteFilter
  };
};

/**
 * Hook that returns all available filters (default + saved).
 */
const useAvailableFilters = () => {
  const {
    config: {
      namespace,
      collection,
      defaultFilters
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollectionConfig)();
  const savedFilters = useSavedFilters(namespace, collection);
  const preparedDefaultFilters = {
    ...Object.entries(defaultFilters || {}).reduce((acc, [query, name]) => ({
      ...acc,
      [prepareQueryString(query)]: name.trim()
    }), {})
  };
  const allFilters = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      ...savedFilters.savedFilters,
      ...preparedDefaultFilters
    };
  }, [savedFilters, preparedDefaultFilters]);
  return {
    ...savedFilters,
    defaultFilters: preparedDefaultFilters,
    allFilters,
    getQueryName(query) {
      return allFilters[prepareQueryString((0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.addQueryArgs)('', query))];
    },
    hasNamedFilter(name) {
      return Boolean(savedFilters.savedFilters[name.trim()]);
    }
  };
};

/**
 * Modal for saving current filters
 */
const SaveFilterModal = ({
  onClose,
  allFilters,
  onSave
}) => {
  const [filterName, setFilterName] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const handleSave = () => {
    if (!filterName?.trim()) {
      setError((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Please enter a filter name.', 'hizzlewp'));
      return;
    }
    if (Object.values(allFilters).find(savedName => savedName === filterName.trim())) {
      // Ask for confirmation to overwrite
      if (!window.confirm((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(
      // translators: %s: filter name
      (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('A filter named "%s" already exists. Do you want to overwrite it?', 'hizzlewp'), filterName.trim()))) {
        return;
      }
    }
    onSave(filterName.trim());
    handleClose();
  };
  const handleClose = () => {
    setFilterName('');
    setError('');
    onClose();
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Modal, {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Add to saved filters', 'hizzlewp'),
    onRequestClose: handleClose,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalVStack, {
      children: [error && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Notice, {
        status: "error",
        isDismissible: false,
        children: error
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalInputControl, {
        label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Filter Name', 'hizzlewp'),
        value: filterName,
        onChange: setFilterName,
        placeholder: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Enter a name for this filter set', 'hizzlewp'),
        onKeyDown: e => {
          if (e.key === 'Enter') {
            e.preventDefault();
            handleSave();
          }
        },
        __next40pxDefaultSize: true
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
        justify: "flex-end",
        spacing: 2,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
          variant: "tertiary",
          onClick: handleClose,
          children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Cancel', 'hizzlewp')
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
          variant: "primary",
          onClick: handleSave,
          children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Save Filter', 'hizzlewp')
        })]
      })]
    })
  });
};

/**
 * Main component for managing saved filters
 */
const SavedFiltersManager = ({
  query
}) => {
  const preparedQuery = prepareQueryString((0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.addQueryArgs)('', query));
  const {
    saveFilter,
    deleteFilter,
    allFilters,
    defaultFilters
  } = useAvailableFilters();
  const isQuerySaved = !!allFilters[preparedQuery];
  const isDefaultQuery = !!defaultFilters[preparedQuery];
  const [isSaveModalOpen, setIsSaveModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
    children: [isQuerySaved && !isDefaultQuery && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
      size: "compact",
      variant: "tertiary",
      onClick: () => deleteFilter(preparedQuery),
      icon: "star-filled",
      label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Remove from saved filters', 'hizzlewp'),
      isDestructive: true,
      showTooltip: true
    }), !isQuerySaved && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
        size: "compact",
        onClick: () => setIsSaveModalOpen(true),
        icon: "star-empty",
        label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Add to saved filters', 'hizzlewp'),
        showTooltip: true
      }), isSaveModalOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(SaveFilterModal, {
        onClose: () => setIsSaveModalOpen(false),
        allFilters: allFilters,
        onSave: name => saveFilter(name, preparedQuery)
      })]
    })]
  });
};

/**
 * Allows a user to select saved filters / views.
 */
const SavedFiltersDropdown = () => {
  const {
    allFilters
  } = useAvailableFilters();
  const query = (0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.addQueryArgs)('', (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.useQuery)());

  // Prepare options for the select control.
  const options = [{
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Select a view...', 'hizzlewp'),
    value: ''
  }, ...Object.entries(allFilters).map(([value, label]) => ({
    label,
    value
  }))];
  const onChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(newQuery => {
    if (newQuery) {
      (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updateQueryString)({
        ...(0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.getQueryArgs)(prepareQueryString(newQuery)),
        paged: '1'
      });
    }
  }, [_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updateQueryString]);

  // Abort if no filters available.
  if (Object.keys(allFilters).length === 0) {
    return null;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.SelectControl, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Select a view...', 'hizzlewp'),
    value: prepareQueryString(query),
    options: options,
    onChange: onChange,
    style: {
      maxWidth: 200
    },
    __nextHasNoMarginBottom: true,
    hideLabelFromVision: true
  });
};

/**
 * Prepares a query string.
 */
const prepareQueryString = query => {
  // Abort if no query.
  if (!query) {
    return '';
  }

  // Parse query args.
  const {
    paged,
    per_page,
    page,
    ...queryArgs
  } = (0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.getQueryArgs)(query);

  // Abort if no query args.
  if (Object.keys(queryArgs).length === 0) {
    return '';
  }

  // Order query args.
  const orderedQueryArgs = Object.keys(queryArgs).sort().reduce((obj, key) => {
    obj[key] = queryArgs[key];
    return obj;
  }, {});

  // Return ordered query string.
  return (0,_wordpress_url__WEBPACK_IMPORTED_MODULE_3__.addQueryArgs)('', orderedQueryArgs);
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/copy-button.tsx":
/*!*****************************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/action-buttons/copy-button.tsx ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CopyButton: () => (/* binding */ CopyButton)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);
/**
 * WordPress dependencies
 */





/**
 * Displays a copy link.
 */

const CopyButton = ({
  value,
  label
}) => {
  const {
    createInfoNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_1__.store);
  const ref = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.useCopyToClipboard)(value, () => {
    createInfoNotice('Copied to clipboard.', {
      type: 'snackbar'
    });
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    label: "Click to copy",
    variant: "secondary",
    ref: ref,
    showTooltip: true,
    children: label
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/delete.tsx":
/*!************************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/action-buttons/delete.tsx ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DeleteLink: () => (/* binding */ DeleteLink),
/* harmony export */   DeleteModal: () => (/* binding */ DeleteModal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/trash.js");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */






/**
 * HizzleWP dependencies
 */



/**
 * The props for the delete modal.
 */

/**
 * Displays a delete modal.
 */
const DeleteModal = ({
  confirm = undefined,
  closeModal,
  namespace,
  collection,
  id
}) => {
  // Prepare the state.
  const {
    deleteCollectionRecord
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__.store);
  const {
    createSuccessNotice,
    createErrorNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__.store);
  const {
    isDeleting,
    deletingError
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => {
    return {
      isDeleting: select(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__.store).isDeletingCollectionRecord(namespace, collection, id),
      deletingError: select(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_6__.store).getLastCollectionDeleteError(namespace, collection, id)
    };
  }, [namespace, collection, id]);

  // A function to delete a record.
  const onDeleteRecord = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {
    e?.preventDefault();

    // Delete once.
    if (isDeleting) {
      return;
    }
    deleteCollectionRecord(namespace, collection, id).then(() => {
      createSuccessNotice((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Record deleted successfully.', 'newsletter-optin-box'), {
        type: 'snackbar'
      });
      (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_7__.updatePath)(`/${namespace}/${collection}`);
    }).catch(error => {
      createErrorNotice(error.message, {
        isDismissible: true,
        type: 'default'
      });

      // Scroll to the top of the page after saving
      const mainContent = document.getElementById('hizzlewp-collection__main-content');
      if (mainContent) {
        mainContent.parentElement?.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }
    });
  }, [deleteCollectionRecord, createSuccessNotice, createErrorNotice, namespace, collection, id]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalVStack, {
    spacing: 8,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalText, {
      variant: "muted",
      children: confirm || (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Are you sure you want to delete this item?', 'newsletter-optin-box')
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalHStack, {
      justify: "flex-start",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button, {
        variant: "primary",
        isDestructive: true,
        onClick: onDeleteRecord,
        isBusy: isDeleting,
        __next40pxDefaultSize: true,
        children: isDeleting ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Deleting...', 'newsletter-optin-box') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Delete', 'newsletter-optin-box')
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button, {
        variant: "secondary",
        onClick: closeModal,
        __next40pxDefaultSize: true,
        children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Cancel', 'newsletter-optin-box')
      })]
    }), deletingError && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Notice, {
      status: "error",
      isDismissible: false,
      children: deletingError?.message
    })]
  });
};

/**
 * The props for the delete link.
 */

/**
 * Displays a delete link.
 */
const DeleteLink = ({
  label,
  ...extra
}) => {
  // Prepare the state.
  const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button, {
      isDestructive: true,
      onClick: () => setIsModalOpen(true),
      icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_5__["default"],
      variant: "secondary",
      children: label
    }), isModalOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Modal, {
      title: label,
      onRequestClose: () => {
        setIsModalOpen(false);
      },
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(DeleteModal, {
        ...extra,
        closeModal: () => setIsModalOpen(false)
      })
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/index.tsx":
/*!***********************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/action-buttons/index.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionButtons: () => (/* binding */ ActionButtons)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _delete__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./delete */ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/delete.tsx");
/* harmony import */ var _remote_action_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./remote-action-link */ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/remote-action-link.tsx");
/* harmony import */ var _copy_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./copy-button */ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/copy-button.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */

/**
 * Local dependencies
 */




/**
 * Displays action links.
 *
 * @param {Object} props
 * @param {Array} props.links
 */
const ActionButtons = ({
  links,
  ...props
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
  justify: "flex-end",
  spacing: 2,
  wrap: true,
  children: links.map(({
    label,
    value,
    action,
    hide
  }) => {
    // Hide the link.
    if (hide) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), {}, label);
    }

    // Delete record.
    if ('delete' === action) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_delete__WEBPACK_IMPORTED_MODULE_2__.DeleteLink, {
        label: label,
        confirm: value,
        ...props
      }, label);
    }

    // Remote action.
    if ('remote' === action) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_remote_action_link__WEBPACK_IMPORTED_MODULE_3__.RemoteActionLink, {
        label: label,
        actionName: value,
        ...props
      }, label);
    }

    // Convert &amp; to &.
    if (value) {
      value = value.replace(/&amp;/g, '&');
    }

    // Copy a value.
    if ('copy' === action) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_copy_button__WEBPACK_IMPORTED_MODULE_4__.CopyButton, {
        label: label,
        value: value,
        ...props
      }, label);
    }

    // Default to a link.
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
      href: value,
      variant: "secondary",
      target: "_blank",
      children: label
    }, label);
  })
});

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/remote-action-link.tsx":
/*!************************************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/action-buttons/remote-action-link.tsx ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RemoteActionLink: () => (/* binding */ RemoteActionLink)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */




/**
 * HizzleWP dependencies
 */


/**
 * Displays a remote action link.
 *
 * @param {Object} props
 */

const RemoteActionLink = ({
  label,
  actionName,
  namespace,
  collection,
  id
}) => {
  // Prepare the state.
  const {
    doRemoteCollectionRecordAction
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store);
  const {
    createSuccessNotice,
    createErrorNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__.store);
  const isDoingRemoteAction = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => {
    return select(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.store).isDoingRemoteCollectionRecordAction(namespace, collection, id, actionName);
  }, [namespace, collection, actionName, id]);

  // A function to do a remote action.
  const onDoAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {
    e?.preventDefault();

    // Do once.
    if (isDoingRemoteAction) {
      return;
    }
    doRemoteCollectionRecordAction(namespace, collection, id, actionName).then(res => {
      createSuccessNotice(res?.message, {
        type: 'snackbar'
      });
    }).catch(error => {
      createErrorNotice(error.message, {
        isDismissible: true,
        type: 'default'
      });

      // Scroll to the top of the page after saving
      const mainContent = document.getElementById('hizzlewp-collection__main-content');
      if (mainContent) {
        mainContent.parentElement?.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }
    });
  }, [doRemoteCollectionRecordAction, createSuccessNotice, createErrorNotice, namespace, collection, actionName, id]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Button, {
    variant: "secondary",
    onClick: onDoAction,
    children: [label, isDoingRemoteAction && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Spinner, {})]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/card.tsx":
/*!*******************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/card.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Card: () => (/* binding */ Card)
/* harmony export */ });
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);
/**
 * WordPress dependencies
 */



/**
 * Displays a normal card.
 *
 * @param {Object} props
 * @param {String} props.heading The card heading.
 * @param {String} props.buttonText The card button text.
 * @param {Object} props.buttonLink The card button link.
 */

const Card = ({
  content,
  buttonText,
  buttonLink
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Card, {
  variant: "secondary",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.CardBody, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.__experimentalVStack, {
      spacing: 8,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.RawHTML, {
        children: content
      }), buttonText && buttonLink && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div", {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Button, {
          variant: "secondary",
          href: buttonLink,
          text: buttonText
        })
      })]
    })
  })
});

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/edit-record.tsx":
/*!**************************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/edit-record.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditRecord: () => (/* binding */ EditRecord)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _edit_record_form__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../edit-record-form */ "./packages/store-ui/src/components/edit-record-form.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */




/**
 * HizzleWP dependencies
 */


/**
 * Internal dependencies
 */


/**
 * Allows the user to edit records.
 */

const EditRecord = () => {
  // Prepare the state.
  // If we're here, we already have a record ID and the record is already loaded.
  const recordId = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedRecordId)();
  const {
    config: {
      namespace,
      collection,
      labels,
      props,
      hidden,
      ignore,
      defaultProps,
      settings
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollectionConfig)();
  const {
    editedRecord,
    edit,
    save,
    isSaving
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useCollectionRecord)(namespace, collection, recordId);
  const {
    createErrorNotice,
    createSuccessNotice,
    removeAllNotices
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__.store);
  const newIgnore = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => [...ignore, ...Object.keys(defaultProps || {})], [ignore, defaultProps]);

  // A function to save a record.
  const onSaveRecord = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {
    e?.preventDefault();

    // Save once.
    if (isSaving) {
      return;
    }
    removeAllNotices();
    save().then(() => {
      createSuccessNotice((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Record saved successfully.', 'newsletter-optin-box'), {
        type: 'snackbar'
      });
    }).catch(error => {
      createErrorNotice(error.message, {
        isDismissible: true,
        type: 'default'
      });

      // Scroll to the top of the page after saving
      const mainContent = document.getElementById('hizzlewp-collection__main-content');
      if (mainContent) {
        mainContent.parentElement?.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }
    });
  }, [save, isSaving, createErrorNotice, createSuccessNotice, removeAllNotices]);

  // Display the add record form.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_edit_record_form__WEBPACK_IMPORTED_MODULE_5__.EditRecordForm, {
    record: editedRecord || {},
    onChange: edit,
    onSubmit: onSaveRecord,
    submitText: labels?.save_item || 'Save',
    schema: props,
    extraSettings: settings,
    hidden: hidden,
    ignore: newIgnore,
    loading: isSaving,
    slotName: `${namespace}_${collection}_record_overview_below`
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/index.tsx":
/*!********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/index.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RecordOverview: () => (/* binding */ RecordOverview)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _create_record__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../create-record */ "./packages/store-ui/src/components/routes/create-record.tsx");
/* harmony import */ var _edit_record__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit-record */ "./packages/store-ui/src/components/routes/view-record/overview/edit-record.tsx");
/* harmony import */ var _overview__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./overview */ "./packages/store-ui/src/components/routes/view-record/overview/overview.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */




/**
 * HizzleWP dependencies
 */


/**
 * Internal dependencies
 */




/**
 * Allows the user to create new records.
 */

const RecordOverview = () => {
  // Prepare the state.
  // If we're here, we already have a record ID and the record is already loaded.
  const recordId = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__.useProvidedRecordId)();
  const {
    config: {
      namespace,
      collection
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__.useProvidedCollectionConfig)();

  // Display the add record form.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.CardBody, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
      alignment: "flex-start",
      justify: "space-between",
      wrap: true,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_create_record__WEBPACK_IMPORTED_MODULE_3__.SectionWithErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_edit_record__WEBPACK_IMPORTED_MODULE_4__.EditRecord, {})
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_create_record__WEBPACK_IMPORTED_MODULE_3__.SectionWithErrorBoundary, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalVStack, {
          spacing: 5,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Slot, {
            name: `${namespace}_${collection}_record_overview_upsell`
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_overview__WEBPACK_IMPORTED_MODULE_5__.Overview, {
            namespace: namespace,
            collection: collection,
            id: recordId
          })]
        })
      })]
    })
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/overview.tsx":
/*!***********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/overview.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Overview: () => (/* binding */ Overview)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _action_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action-buttons */ "./packages/store-ui/src/components/routes/view-record/overview/action-buttons/index.tsx");
/* harmony import */ var _stats__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stats */ "./packages/store-ui/src/components/routes/view-record/overview/stats.tsx");
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./card */ "./packages/store-ui/src/components/routes/view-record/overview/card.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */

/**
 * HizzleWP dependencies
 */


/**
 * Internal dependencies
 */




/**
 * Displays a record's overview.
 *
 */

const Overview = ({
  namespace,
  collection,
  id
}) => {
  // Prepare the overview.
  const overview = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_2__.useCollectionRecordTabContent)(namespace, collection, id, 'overview');

  // In case we don't have an overview yet, display a spinner.
  if (overview.isResolving) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalGrid, {
        columns: 3,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
          className: "hizzlewp-overview-loading-placeholder__card"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
          className: "hizzlewp-overview-loading-placeholder__card"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
          className: "hizzlewp-overview-loading-placeholder__card"
        })]
      })
    });
  }

  // Abort if we have an error.
  if (overview.error || !Array.isArray(overview.data) || !overview.data.length) {
    return null;
  }

  // Display the overview.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
    children: overview.data.map((data, index) => {
      switch (data.type) {
        case 'stat_cards':
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_stats__WEBPACK_IMPORTED_MODULE_4__.Stats, {
            cards: data.cards
          }, index);
        case 'action_links':
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_action_buttons__WEBPACK_IMPORTED_MODULE_3__.ActionButtons, {
            links: data.links,
            namespace: namespace,
            collection: collection,
            id: id
          }, index);
        case 'card':
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_card__WEBPACK_IMPORTED_MODULE_5__.Card, {
            ...data
          }, index);
        default:
          return null;
      }
    })
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/overview/stats.tsx":
/*!********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/overview/stats.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StatCard: () => (/* binding */ StatCard),
/* harmony export */   Stats: () => (/* binding */ Stats)
/* harmony export */ });
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);
/**
 * WordPress dependencies
 */



/**
 * Displays a stat card
 *
 * @param {Object} props
 * @param {React.ReactNode} props.value - The value to display.
 * @param {React.ReactNode} props.label - The label to display.
 * @param {String} props.status - success, info, warning, error, light
 * @return {JSX.Element} The stat card.
 */

const StatCard = ({
  value,
  label,
  status = 'default'
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div", {
    className: `hizzlewp-stat-card hizzlewp-stat-card__${status || 'default'}`,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Flex, {
      direction: "column",
      justify: "center",
      style: {
        minHeight: 100
      },
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.FlexItem, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.__experimentalText, {
          size: 48,
          weight: 600,
          as: "h2",
          children: value
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.FlexItem, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.__experimentalText, {
          size: 13,
          weight: 400,
          as: "h3",
          children: label
        })
      })]
    })
  });
};

/**
 * Displays stat cards.
 *
 * @param {Object} props
 * @param {Array} props.cards
 */
const Stats = ({
  cards
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.__experimentalHStack, {
  spacing: 2,
  justify: "flex-end",
  wrap: true,
  children: cards.map(({
    title,
    value,
    status
  }) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.FlexItem, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, {
      status: status || 'info',
      label: title,
      value: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span", {
        dangerouslySetInnerHTML: {
          __html: value
        }
      })
    })
  }, title))
});

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/tab-content/index.tsx":
/*!***********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/tab-content/index.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TabContent: () => (/* binding */ TabContent)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _overview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../overview */ "./packages/store-ui/src/components/routes/view-record/overview/index.tsx");
/* harmony import */ var _table__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./table */ "./packages/store-ui/src/components/routes/view-record/tab-content/table.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * External dependencies
 */


/**
 * HizzleWP dependencies
 */



/**
 * Local dependencies.
 */



/**
 * Displays a given inner tab.
 *
 */

const TabContent = () => {
  // Prepare the state.
  const {
    config: {
      tabs,
      namespace,
      collection
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__.useProvidedCollectionConfig)();
  const recordId = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__.useProvidedRecordId)();
  const {
    params
  } = (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_2__.useRoute)();
  const currentTab = params?.get('tab') || 'overview';
  const args = {
    namespace,
    collection,
    recordId,
    tabName: params?.get('tab') || 'overview'
  };
  const content = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!tabs || Array.isArray(tabs) || !tabs[args.tabName]) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_overview__WEBPACK_IMPORTED_MODULE_4__.RecordOverview, {});
    }
    switch (tabs[args.tabName].type) {
      case 'table':
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_table__WEBPACK_IMPORTED_MODULE_5__.Table, {
          tab: tabs[args.tabName],
          ...args
        });
      default:
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Slot, {
          name: `${namespace}-${collection}-tab-${args.tabName}`,
          fillProps: {
            tab: tabs[args.tabName],
            ...args
          }
        });
    }
  }, [tabs, args.tabName, namespace, collection, recordId]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
    id: `tab__${namespace}-${collection}__${currentTab}__content`,
    className: "hizzlewp-tab__content",
    children: content
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/tab-content/table.tsx":
/*!***********************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/tab-content/table.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Table: () => (/* binding */ Table)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hizzlewp_records__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hizzlewp/records */ "@hizzlewp/records");
/* harmony import */ var _hizzlewp_records__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_records__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _records_table_enum_colors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../records-table/enum-colors */ "./packages/store-ui/src/components/routes/records-table/enum-colors.ts");
/* harmony import */ var _records_table_display_cell__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../records-table/display-cell */ "./packages/store-ui/src/components/routes/records-table/display-cell.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */



/**
 * HizzleWP dependencies
 */





/**
 * Local dependencies
 */



const prepareSearchValue = (row, header) => {
  const {
    is_list,
    item,
    args,
    is_boolean,
    label
  } = header;
  const value = row[header.name];
  if (is_list) {
    if (!Array.isArray(value) || 0 === value.length) {
      return '';
    }
    return value.map(arrayValue => {
      let value = arrayValue;
      if (item && args) {
        return (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(item, ...args.map(arg => arrayValue[arg]));
      }
      return value;
    }).join(' ');
  }
  if (is_boolean) {
    return value ? label : '';
  }
  return value;
};

/**
 * Displays a single cell.
 *
 * @param {Object} props
 * @returns The cell.
 */
const DisplayCell = ({
  row,
  header,
  headerKey
}) => {
  const {
    is_list,
    item,
    args,
    is_primary,
    url,
    is_boolean,
    is_badge
  } = header;
  const value = row[headerKey];

  // If we're displaying a list of values, display a list.
  // For example, in Noptin, we display a list of links that
  // someone clicked on.
  // In this case, item === %s - %s and args === [ 'link', 'date' ]
  // So we'd display:
  // <ul>
  //     <li>example.com - 2021-01-01</li>
  //     <li>example.com - 2021-01-02</li>
  //     <li>example.com - 2021-01-03</li>
  // </ul>

  if (is_list) {
    if (!Array.isArray(value) || 0 === value.length) {
      return '—';
    }
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalVStack, {
      as: "ul",
      spacing: 4,
      style: {
        margin: 0
      },
      children: value.map((arrayValue, index) => {
        let value = arrayValue;
        if (item && args) {
          const replacements = args.map(arg => arrayValue[arg]);
          value = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.sprintf)(item, ...replacements);
        }
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("li", {
          style: {
            margin: 0
          },
          dangerouslySetInnerHTML: {
            __html: value
          }
        }, index);
      })
    });
  }

  // Primary column with a URL.
  if (is_primary && url) {
    const recordUrl = row[url];
    if (!recordUrl) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div", {
        className: "hizzle-records__table-title-field",
        children: value
      });
    }
    const btnStyle = {
      width: '100%',
      alignItems: 'start',
      textDecoration: 'none'
    };
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div", {
      className: "hizzle-records__table-title-field",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
        variant: "link",
        style: btnStyle,
        href: recordUrl,
        target: "_blank",
        children: value
      })
    });
  }
  if (is_boolean) {
    const theIcon = value ? 'yes' : 'no';
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Icon, {
      icon: theIcon
    });
  }
  if (is_badge && value) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("span", {
      className: "hizzlewp-badge",
      style: (0,_records_table_enum_colors__WEBPACK_IMPORTED_MODULE_7__["default"])(value),
      children: value
    });
  }
  if ('string' === typeof value && (0,_records_table_display_cell__WEBPACK_IMPORTED_MODULE_8__.hasCollectionNavigationLink)(value)) {
    // replace all instances of data-navigate-collection with href="#" data-navigate-collection in the value.
    const theContent = value.replace(/data-navigate-collection/g, 'href="#" data-navigate-collection');
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div", {
      dangerouslySetInnerHTML: {
        __html: theContent
      },
      onClick: e => {
        const link = e?.target?.closest?.('a[data-navigate-collection]');
        if (link) {
          e.preventDefault();
          e.stopPropagation();
          const newPath = link.getAttribute('data-navigate-collection');
          (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_6__.updateQueryString)({}, newPath, {});
        }
      }
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div", {
    dangerouslySetInnerHTML: {
      __html: value
    }
  });
};
/**
 * Displays the table content.
 *
 * @param {Object} props
 * @returns The table content.
 */
const Table = ({
  namespace,
  collection,
  recordId,
  tabName,
  tab
}) => {
  // Prepare the data.
  const data = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_3__.useCollectionRecordTabContent)(namespace, collection, recordId, tabName);

  // Available columns.
  const columns = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tab.headers.map(prop => ({
    accessorKey: prop.name,
    accessorFn: row => prepareSearchValue(row, prop),
    header: prop.label,
    enableSorting: false,
    enableHiding: !prop.is_primary,
    cell: ({
      row
    }) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(DisplayCell, {
      row: row.original,
      header: prop,
      headerKey: prop.name
    })
  })), [tab.headers]);
  if (!data.isResolving && data.error) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.CardBody, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Notice, {
        status: "error",
        isDismissible: false,
        children: data.error?.message
      })
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_4__.ErrorBoundary, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_hizzlewp_records__WEBPACK_IMPORTED_MODULE_5__.Records, {
      rowCount: data.data?.length || 0,
      data: data.data || [],
      columns: columns,
      emptyMessage: tab.emptyMessage,
      isLoading: data.isResolving,
      searchLabel: "Search",
      enableRowSelection: false,
      enableSorting: true,
      enablePagination: true
    }, `${namespace}-${collection}-${recordId}-${tabName}`)
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/tabs.tsx":
/*!**********************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/tabs.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tabs: () => (/* binding */ Tabs)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);
/**
 * External dependencies
 */


/**
 * HizzleWP dependencies
 */




/**
 * Allows the user to view a single inner record.
 *
 */

const Tabs = () => {
  // Prepare the state.
  const {
    config: {
      labels,
      tabs: schemaTabs,
      namespace,
      collection
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollectionConfig)();
  const recordId = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedRecordId)();
  const recordPath = `${namespace}/${collection}/${recordId}`;
  const {
    params
  } = (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_3__.useRoute)();

  // Prepare the tabs.
  const tabs = [{
    title: labels?.edit_item || labels?.singular_name || 'Edit',
    name: 'overview'
  }];

  // Add any additional tabs.
  if (schemaTabs && !Array.isArray(schemaTabs)) {
    Object.entries(schemaTabs).map(([name, {
      title
    }]) => tabs.push({
      title,
      name
    }));
  }

  // Fired when a tab is selected.
  const onTabSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(tabIndex => {
    const newTab = tabs[tabIndex]?.name || 'overview';
    const newPath = 'overview' === newTab ? recordPath : `${recordPath}/${newTab}`;
    (0,_hizzlewp_history__WEBPACK_IMPORTED_MODULE_3__.updatePath)(newPath);
  }, [recordPath]);
  const currentTab = params?.get('tab') || 'overview';

  // Display the update record screen.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_2__.ErrorBoundary, {
    children: tabs.length > 1 ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__experimentalHStack, {
      as: _wordpress_components__WEBPACK_IMPORTED_MODULE_1__.NavigableMenu,
      orientation: "horizontal",
      className: "hizzle-interface__header-menu",
      expanded: false,
      spacing: 0,
      alignment: "stretch",
      onNavigate: onTabSelect,
      wrap: true,
      children: tabs.map((recordTab, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
        isPressed: recordTab.name === currentTab || !currentTab && 0 === index,
        onClick: () => onTabSelect(index),
        __next40pxDefaultSize: true,
        children: recordTab.title
      }, recordTab.name))
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {
      children: labels?.singular_name || 'Item'
    })
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/routes/view-record/view-record.tsx":
/*!*****************************************************************************!*\
  !*** ./packages/store-ui/src/components/routes/view-record/view-record.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewRecord: () => (/* binding */ ViewRecord)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hizzlewp/components */ "@hizzlewp/components");
/* harmony import */ var _hizzlewp_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hizzlewp/history */ "@hizzlewp/history");
/* harmony import */ var _hizzlewp_history__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hizzlewp/store */ "@hizzlewp/store");
/* harmony import */ var _hizzlewp_store__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _tabs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tabs */ "./packages/store-ui/src/components/routes/view-record/tabs.tsx");
/* harmony import */ var _records_table_item_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../records-table/item-actions */ "./packages/store-ui/src/components/routes/records-table/item-actions.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);
/**
 * External dependencies
 */


/**
 * HizzleWP dependencies
 */




/**
 * Local dependencies
 */



const RecordActions = ({
  namespace,
  collection,
  recordId
}) => {
  const {
    record
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useCollectionRecord)(namespace, collection, recordId);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Fill, {
    name: `/${namespace}/${collection}/actions`,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_records_table_item_actions__WEBPACK_IMPORTED_MODULE_6__.ItemActions, {
      actions: record?.hizzlewp_actions,
      namespace: namespace,
      collection: collection,
      id: (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.getRawValue)(record?.id),
      isOverview: true
    })
  });
};

/**
 * Ensure that the record config is loaded before rendering the page.
 *
 */
const CheckRecord = ({
  children,
  namespace,
  collection,
  recordId
}) => {
  // Prepare the state.
  // If we're here, we already have a record ID.
  const {
    record,
    isResolving,
    hasResolved,
    error
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useCollectionRecord)(namespace, collection, recordId);

  // Show loading indicator if still resolving.
  if (isResolving || !hasResolved) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Spinner, {});
  }

  // Show error if any.
  if (error || !record) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Notice, {
      status: "error",
      isDismissible: false,
      children: error?.message || 'An unknown error occurred.'
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_hizzlewp_components__WEBPACK_IMPORTED_MODULE_2__.ErrorBoundary, {
    children: children
  });
};

/**
 * Allows the user to view a single record.
 *
 */
const ViewRecord = () => {
  // Prepare the state.
  const recordId = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedRecordId)();
  const {
    config: {
      namespace,
      collection
    }
  } = (0,_hizzlewp_store__WEBPACK_IMPORTED_MODULE_4__.useProvidedCollectionConfig)();
  if (!recordId) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Notice, {
      status: "error",
      isDismissible: false,
      children: "No record ID found."
    });
  }

  // Display the update record screen.
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Fill, {
      name: `/${namespace}/${collection}/title`,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tabs__WEBPACK_IMPORTED_MODULE_5__.Tabs, {})
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(CheckRecord, {
      namespace: namespace,
      collection: collection,
      recordId: recordId,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(RecordActions, {
        namespace: namespace,
        collection: collection,
        recordId: recordId
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_hizzlewp_history__WEBPACK_IMPORTED_MODULE_3__.Outlet, {
        path: "/:namespace/:collection/:recordId"
      })]
    })]
  });
};

/***/ }),

/***/ "./packages/store-ui/src/components/upsell.tsx":
/*!*****************************************************!*\
  !*** ./packages/store-ui/src/components/upsell.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Upsell: () => (/* binding */ Upsell),
/* harmony export */   UpsellCard: () => (/* binding */ UpsellCard)
/* harmony export */ });
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);


/**
 * Displays an upsell div.
 */

const Upsell = ({
  children
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div", {
    className: "hizzlewp-upsell-card",
    children: children
  });
};

/**
 * Displays an upsell card.
 *
 * @param {Object} props
 * @returns 
 */
const UpsellCard = ({
  upsell
}) => {
  if (!upsell) {
    return null;
  }
  const {
    content,
    buttonURL,
    buttonText
  } = upsell;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Upsell, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Tip, {
      children: [content, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Button, {
        href: buttonURL,
        target: "_blank",
        variant: "link",
        children: buttonText
      })]
    })
  });
};

/***/ }),

/***/ "./packages/store-ui/src/index.tsx":
/*!*****************************************!*\
  !*** ./packages/store-ui/src/index.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/dom-ready */ "@wordpress/dom-ready");
/* harmony import */ var _wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/keyboard-shortcuts */ "@wordpress/keyboard-shortcuts");
/* harmony import */ var _wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _components_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/layout */ "./packages/store-ui/src/components/layout.tsx");
/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./style.scss */ "./packages/store-ui/src/style.scss");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);
/**
 * External dependencies.
 */






/**
 * Internal dependencies.
 */



const {
  collection,
  namespace,
  ...rest
} = window.hizzleWPStore?.data || {};
_wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_0___default()(() => {
  const target = document.getElementById('hizzlewp-store-ui');

  // Abort if the target element is not found.
  if (!target || !collection || !namespace) {
    return;
  }
  (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_4__.dispatch)(_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_3__.store).registerShortcut({
    name: 'hizzlewp/save-record',
    category: 'hizzlewp',
    description: 'Save the current record',
    keyCombination: {
      modifier: 'primary',
      character: 's'
    }
  });
  const App = () => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.SlotFillProvider, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_components_layout__WEBPACK_IMPORTED_MODULE_5__["default"], {
      defaultNamespace: namespace,
      defaultCollection: collection,
      ...rest
    })
  });
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createRoot)(target).render(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(App, {}));
});

/***/ }),

/***/ "./packages/store-ui/src/style.scss":
/*!******************************************!*\
  !*** ./packages/store-ui/src/style.scss ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "@hizzlewp/components":
/*!******************************************!*\
  !*** external ["hizzlewp","components"] ***!
  \******************************************/
/***/ ((module) => {

"use strict";
module.exports = window["hizzlewp"]["components"];

/***/ }),

/***/ "@hizzlewp/history":
/*!***************************************!*\
  !*** external ["hizzlewp","history"] ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = window["hizzlewp"]["history"];

/***/ }),

/***/ "@hizzlewp/interface":
/*!*****************************************!*\
  !*** external ["hizzlewp","interface"] ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
module.exports = window["hizzlewp"]["interface"];

/***/ }),

/***/ "@hizzlewp/records":
/*!***************************************!*\
  !*** external ["hizzlewp","records"] ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = window["hizzlewp"]["records"];

/***/ }),

/***/ "@hizzlewp/store":
/*!*************************************!*\
  !*** external ["hizzlewp","store"] ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = window["hizzlewp"]["store"];

/***/ }),

/***/ "@wordpress/components":
/*!************************************!*\
  !*** external ["wp","components"] ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["components"];

/***/ }),

/***/ "@wordpress/compose":
/*!*********************************!*\
  !*** external ["wp","compose"] ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["compose"];

/***/ }),

/***/ "@wordpress/data":
/*!******************************!*\
  !*** external ["wp","data"] ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["data"];

/***/ }),

/***/ "@wordpress/date":
/*!******************************!*\
  !*** external ["wp","date"] ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["date"];

/***/ }),

/***/ "@wordpress/dom-ready":
/*!**********************************!*\
  !*** external ["wp","domReady"] ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["domReady"];

/***/ }),

/***/ "@wordpress/element":
/*!*********************************!*\
  !*** external ["wp","element"] ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["element"];

/***/ }),

/***/ "@wordpress/i18n":
/*!******************************!*\
  !*** external ["wp","i18n"] ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["i18n"];

/***/ }),

/***/ "@wordpress/keyboard-shortcuts":
/*!*******************************************!*\
  !*** external ["wp","keyboardShortcuts"] ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["keyboardShortcuts"];

/***/ }),

/***/ "@wordpress/notices":
/*!*********************************!*\
  !*** external ["wp","notices"] ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["notices"];

/***/ }),

/***/ "@wordpress/primitives":
/*!************************************!*\
  !*** external ["wp","primitives"] ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["primitives"];

/***/ }),

/***/ "@wordpress/url":
/*!*****************************!*\
  !*** external ["wp","url"] ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["url"];

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "React" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = window["React"];

/***/ }),

/***/ "react/jsx-runtime":
/*!**********************************!*\
  !*** external "ReactJSXRuntime" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = window["ReactJSXRuntime"];

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"store-ui": 0,
/******/ 			"./store-ui/style-index": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = globalThis["webpackChunkhizzlewp"] = globalThis["webpackChunkhizzlewp"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["./store-ui/style-index"], () => (__webpack_require__("./packages/store-ui/src/index.tsx")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=index.js.map