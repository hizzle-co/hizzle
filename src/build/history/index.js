(()=>{"use strict";var t={d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{addHistoryListener:()=>p,getHistory:()=>a,getNewPath:()=>u,getPath:()=>s,getQuery:()=>i,navigateTo:()=>y,onQueryChange:()=>h,updatePath:()=>d,updateQueryString:()=>c,usePath:()=>f,useQuery:()=>l});const o=window.React,r=window.wp.url;let n;function a(t="/"){if(!n){let e=[],o=window.location.href;const a=t=>{o!==window.location.href&&(o=window.location.href,e.forEach((e=>e(t))))};n={get location(){const e=(0,r.getQueryArgs)(window.location.search),o=e.hizzlewp_path||t;return{query:e,pathname:o.startsWith("/")?o:`/${o}`}},push(t,e={}){window.history.pushState(e,"",t),a(new CustomEvent("pushstate",{detail:{state:e}}))},replace(t,e={}){window.history.replaceState(e,"",t),a(new CustomEvent("replacestate",{detail:{state:e}}))},go(t){window.history.go(t),a(new CustomEvent("popstate",{detail:{state:{}}}))},back(){window.history.back(),a(new CustomEvent("popstate",{detail:{state:{}}}))},forward(){window.history.forward(),a(new CustomEvent("popstate",{detail:{state:{}}}))},listen:t=>(e.push(t),()=>{e=e.filter((e=>e!==t))})},window.addEventListener("popstate",a)}return n}const s=()=>a().location.pathname,i=()=>a().location.query;function u(t,e=s(),o=i()){const n={...o,...t};return"/"!==e&&(e.startsWith("/")||(e=`/${e}`),n.hizzlewp_path=e.replace(/\/{2,}/g,"/")),Object.keys(n).forEach((t=>{""===n[t]&&delete n[t]})),(0,r.addQueryArgs)("admin.php",n)}function c(t,e=s(),o=i()){a().push(u(t,e,o))}function d(t){console.log("updatePath",t,u({},t,i())),a().push(u({},t,i()))}const p=t=>a().listen(t);function w(t){if(Array.isArray(t))return t.map(w).sort();if("object"==typeof t&&null!==t){const e=Object.keys(t).sort(),o={};for(const r of e)o[r]=w(t[r]);return o}return t}const l=()=>{const[t,e]=(0,o.useState)(i()),[n,a]=(0,o.useState)(!0);return(0,o.useLayoutEffect)((()=>p((()=>{a(!0)}))),[]),(0,o.useEffect)((()=>{if(n){const n=i();a(!1),o=n,s=t,(0,r.addQueryArgs)("",w({...o}))!==(0,r.addQueryArgs)("",w({...s}))&&e(n)}var o,s}),[n,t]),t};function h(t,e=s(),o=i()){return"sort"===t?(t,r)=>c({orderby:t,order:r},e,o):r=>c({[t]:r},e,o)}const y=t=>{a().push((0,r.addQueryArgs)("admin.php",(0,r.getQueryArgs)(t))),window.scrollTo({top:0,behavior:"smooth"})},f=()=>{const[t,e]=(0,o.useState)(s()),[r,n]=(0,o.useState)(!1);return(0,o.useLayoutEffect)((()=>p((()=>{n(!0)}))),[]),(0,o.useEffect)((()=>{if(r){const o=s();n(!1),o!==t&&e(o)}}),[r,t]),t};(window.hizzlewp=window.hizzlewp||{}).history=e})();