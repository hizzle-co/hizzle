(()=>{"use strict";var e={55:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t){var r=e._map,o=e._arrayTreeMap,n=e._objectTreeMap;if(r.has(t))return r.get(t);for(var c=Object.keys(t).sort(),s=Array.isArray(t)?o:n,i=0;i<c.length;i++){var a=c[i];if(void 0===(s=s.get(a)))return;var l=t[a];if(void 0===(s=s.get(l)))return}var d=s.get("_ekm_value");return d?(r.delete(d[0]),d[0]=t,s.set("_ekm_value",d),r.set(t,d),d):void 0}var n=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clear(),t instanceof e){var r=[];t.forEach((function(e,t){r.push([t,e])})),t=r}if(null!=t)for(var o=0;o<t.length;o++)this.set(t[o][0],t[o][1])}var n,c;return n=e,c=[{key:"set",value:function(r,o){if(null===r||"object"!==t(r))return this._map.set(r,o),this;for(var n=Object.keys(r).sort(),c=[r,o],s=Array.isArray(r)?this._arrayTreeMap:this._objectTreeMap,i=0;i<n.length;i++){var a=n[i];s.has(a)||s.set(a,new e),s=s.get(a);var l=r[a];s.has(l)||s.set(l,new e),s=s.get(l)}var d=s.get("_ekm_value");return d&&this._map.delete(d[0]),s.set("_ekm_value",c),this._map.set(r,c),this}},{key:"get",value:function(e){if(null===e||"object"!==t(e))return this._map.get(e);var r=o(this,e);return r?r[1]:void 0}},{key:"has",value:function(e){return null===e||"object"!==t(e)?this._map.has(e):void 0!==o(this,e)}},{key:"delete",value:function(e){return!!this.has(e)&&(this.set(e,void 0),!0)}},{key:"forEach",value:function(e){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this._map.forEach((function(n,c){null!==c&&"object"===t(c)&&(n=n[1]),e.call(o,n,c,r)}))}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}],c&&r(n.prototype,c),e}();e.exports=n},252:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var o,n,c;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(n of t.entries())if(!r.has(n[0]))return!1;for(n of t.entries())if(!e(n[1],r.get(n[0])))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(n of t.entries())if(!r.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(r)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(t[n]!==r[n])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(c=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,c[n]))return!1;for(n=o;0!=n--;){var s=c[n];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,r),c.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{CollectionProvider:()=>pt,DEFAULT_CONTEXT:()=>R,DEFAULT_ENTITY_KEY:()=>E,DEFAULT_PAGE:()=>v,DEFAULT_PER_PAGE:()=>C,STORE_NAME:()=>h,store:()=>bt,useCollectionRecord:()=>vt,useCollectionRecordTabContent:()=>Ot,useCollectionRecords:()=>mt,useProvidedCollection:()=>gt,useProvidedCollectionConfig:()=>Et,useProvidedRecordId:()=>ht,useRecordProp:()=>_t});var n={};r.r(n),r.d(n,{canUser:()=>ge,getCollectionConfig:()=>z,getCollectionRecord:()=>B,getCollectionRecordEdits:()=>oe,getCollectionRecordNoResolver:()=>G,getCollectionRecordNonTransientEdits:()=>ne,getCollectionRecordPermissions:()=>Ee,getCollectionRecordTabContent:()=>re,getCollectionRecords:()=>Y,getCollectionRecordsPermissions:()=>he,getCollectionRecordsTotalItems:()=>ee,getCollectionRecordsTotalPages:()=>te,getEditedCollectionRecord:()=>se,getLastCollectionDeleteError:()=>ae,getLastCollectionSaveError:()=>F,getQueriedItems:()=>Z,getRawCollectionRecord:()=>W,getReferenceByDistinctEdits:()=>Re,getRemoteActionError:()=>de,getUndoManager:()=>ue,hasCollectionRecords:()=>X,hasEditsForCollectionRecord:()=>ce,hasRedo:()=>pe,hasUndo:()=>fe,isDeletingCollectionRecord:()=>ie,isDoingRemoteCollectionRecordAction:()=>le,isSavingCollectionRecord:()=>$});var c={};r.r(c),r.d(c,{addCollectionConfig:()=>be,batch:()=>Fe,createUndoLevel:()=>Ve,deleteCollectionRecord:()=>we,doRemoteCollectionRecordAction:()=>$e,editCollectionRecord:()=>ze,receiveCollectionRecordTabContent:()=>xe,receiveCollectionRecords:()=>Ue,receiveUserPermission:()=>Ke,receiveUserPermissions:()=>Qe,redo:()=>qe,removeItems:()=>Ie,saveCollectionRecord:()=>Ne,saveEditedCollectionRecord:()=>Pe,saveSpecifiedCollectionRecordEdits:()=>je,undo:()=>Me});var s={};r.r(s),r.d(s,{getCollectionConfig:()=>Je,getCollectionRecord:()=>Ge,getCollectionRecordTabContent:()=>Be,getCollectionRecords:()=>Ye,getEditedCollectionRecord:()=>Xe,getRawCollectionRecord:()=>We});const i=window.wp.data,a=window.wp.isShallowEqual;var l=r.n(a);function d(e,t){const r={...e};return Object.entries(t).forEach((([e,t])=>{r[e]?r[e]={...r[e],to:t.to}:r[e]=t})),r}const u=(e,t)=>{const r=e?.findIndex((({id:e})=>"string"==typeof e?e===t.id:l()(e,t.id))),o=[...e];return-1!==r?o[r]={id:t.id,changes:d(o[r].changes,t.changes)}:o.push(t),o};const f=window.wp.compose,p=e=>t=>(r,o)=>void 0===r||e(o)?t(r,o):r,g=e=>t=>(r,o)=>t(r,e(o)),h="hizzle/store",E="id",R="view",C=25,v=1;var y=r(252),m=r.n(y);const _=(e={},t)=>{var r;switch(t.type){case"RECEIVE_COLLECTION_RECORDS":if((null!==(r=t.query?.context)&&void 0!==r?r:R)!==R)return e;const n={...e};for(const e of null!==(o=t.records)&&void 0!==o?o:[]){var o;const r=e?.[t.key||E],c=n[r];if(!c)continue;const s=Object.keys(c).reduce(((r,o)=>{var n;return m()(c[o],null!==(n=e[o]?.raw)&&void 0!==n?n:e[o])||t.persistedEdits&&m()(c[o],t.persistedEdits[o])||(r[o]=c[o]),r}),{});Object.keys(s).length?n[r]=s:delete n[r]}return n;case"EDIT_COLLECTION_RECORD":const c={...e[t.recordId],...t.edits};return Object.keys(c).forEach((e=>{void 0===c[e]&&delete c[e]})),{...e,[t.recordId]:c}}return e},O=(e={},t)=>{switch(t.type){case"SAVE_COLLECTION_RECORD_START":case"SAVE_COLLECTION_RECORD_FINISH":return{...e,[t.recordId]:{pending:"SAVE_COLLECTION_RECORD_START"===t.type,error:t.error}}}return e},b=(e={},t)=>{switch(t.type){case"DELETE_COLLECTION_RECORD_START":case"DELETE_COLLECTION_RECORD_FINISH":return{...e,[t.recordId]:{pending:"DELETE_COLLECTION_RECORD_START"===t.type,error:t.error}}}return e},I=e=>t=>(r={},o)=>{const n=o[e];if(void 0===n)return r;const c=t(r[n],o);return c===r[n]?r:{...r,[n]:c}},w=window.wp.url,S=function(e){return"string"==typeof e?e.split(","):Array.isArray(e)?e:null},T=function(){const e=new WeakMap;return t=>{let r;return e.has(t)?r=e.get(t):(r=function(e){var t;const r={stableKey:"",page:v,perPage:C,fields:void 0,include:void 0,context:R},o=Object.keys(e).sort();for(let c=0;c<o.length;c++){const s=o[c];let i=e[s];switch(s){case"paged":r.page=Number(i);break;case"per_page":r.perPage=Number(i);break;case"context":r.context=i;break;case"_fields":r.fields=null!==(t=S(i))&&void 0!==t?t:[];break;case"page":break;default:var n;"include"===s&&("number"==typeof i&&(i=i.toString()),r.include=(null!==(n=S(i))&&void 0!==n?n:[]).map(Number),i=r.include.join()),r.stableKey+=(r.stableKey?"&":"")+(0,w.addQueryArgs)("",{[s]:i}).slice(1)}}return r}(t),null!==t&&"object"==typeof t&&e.set(t,r)),r}}();function L(e){const{query:t}=e;return t?T(t).context:R}function A(e,t,r,o){var n;if(1===r&&-1===o)return t;const c=(r-1)*o,s=Math.max(null!==(n=e?.length)&&void 0!==n?n:0,c+t.length),i=new Array(s);for(let r=0;r<s;r++){const n=r>=c&&r<c+o;i[r]=n?t[r-c]:e?.[r]}return i}const D=(e,t)=>Object.fromEntries(Object.entries(e).filter((([e])=>!t.some((t=>Number.isInteger(t)?t===+e:t===e))))),k=(0,f.compose)(p((e=>"query"in e)),g((e=>e.query?{...e,...T(e.query)}:e)),I("context"),I("stableKey"))(((e,t)=>{const{page:r=1,perPage:o=-1,key:n=E}=t;return{itemIds:A(e?.itemIds||[],t.records.map((e=>e?.[n])).filter(Boolean),r,o),meta:t.meta}})),N=(0,i.combineReducers)({items:(e={view:{},edit:{}},t)=>{switch(t.type){case"RECEIVE_COLLECTION_RECORDS":{const r=L(t),o=t.key||E;return{...e,[r]:{...e[r],...t.records.reduce(((t,n)=>{const c=n?.[o];return t[c]=function(e,t){if(!e)return t;let r=!1;const o={};for(const n in t)m()(e[n],t[n])?o[n]=e[n]:(r=!0,o[n]=t[n]);if(!r)return e;for(const t in e)o.hasOwnProperty(t)||(o[t]=e[t]);return o}(e?.[r]?.[c],n),t}),{})}}}case"REMOVE_ITEMS":{const r={...e};return Object.keys(r).forEach((e=>{r[e]=D(r[e],t.itemIds)})),r}}return e},itemIsComplete:(e={view:{},edit:{}},t)=>{switch(t.type){case"RECEIVE_COLLECTION_RECORDS":{const r=L(t),{query:o,key:n=E}=t,c=o?T(o):{fields:[]},s=!o||!Array.isArray(c.fields)||0===c.fields.length;return{...e,[r]:{...e[r],...t.records.reduce(((t,o)=>{const c=o?.[n];return t[c]=e?.[r]?.[c]||s,t}),{})}}}case"REMOVE_ITEMS":const r={...e};return Object.keys(r).forEach((e=>{r[e]=D(r[e],t.itemIds)})),r}return e},tabs:(e={},t)=>"RECEIVE_COLLECTION_RECORD_TAB_CONTENT"===t.type?{...e,[t.recordId]:{...e[t.recordId],[t.tabName]:t.content}}:e,queries:(e={view:{},edit:{}},t)=>{switch(t.type){case"RECEIVE_COLLECTION_RECORDS":return k(e,t);case"REMOVE_ITEMS":const r=t.itemIds.reduce(((e,t)=>(e[t]=!0,e)),{});return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,Object.fromEntries(Object.entries(t).map((([e,t])=>[e,{itemIds:t.itemIds.filter((e=>!r[e])),meta:t.meta}])))])));default:return e}}}),P=(e={},t)=>{switch(t.type){case"DO_REMOTE_COLLECTION_RECORD_ACTION_START":case"DO_REMOTE_COLLECTION_RECORD_ACTION_FINISH":return{...e,[t.action]:{...e[t.action],[t.recordId]:{pending:"DO_REMOTE_COLLECTION_RECORD_ACTION_START"===t.type,error:t.error}}}}return e},j=e=>(t,r)=>{if("UNDO"===r.type||"REDO"===r.type){const{record:o}=r;let n=t;return o.forEach((({id:{namespace:t,collection:o,recordId:c},changes:s})=>{n=e(n,{type:"EDIT_COLLECTION_RECORD",namespace:t,collection:o,recordId:c,edits:Object.entries(s).reduce(((e,[t,o])=>(e[t]="UNDO"===r.type?o.from:o.to,e)),{})})})),n}return e(t,r)},U=e=>{const t=(0,i.combineReducers)({queriedData:N,edits:_,saving:O,deleting:b,remoteActions:P});return(0,f.compose)(j,p((t=>Boolean(t.collection&&t.namespace&&t.collection===e.collection&&t.namespace===e.namespace))),g((t=>({key:e.key||E,...t}))))(t)},x=(0,i.combineReducers)({collections:(e={config:{},records:{}},t)=>{const r=((e={},t)=>"ADD_COLLECTION_CONFIG"===t.type?{...e,[t.config.namespace]:{...e[t.config.namespace],[t.config.collection]:t.config}}:e)(e.config,t);let o=e.reducer;o&&r===e.config||(o=(0,i.combineReducers)(Object.entries(r).reduce(((e,[t,r])=>{const o=(0,i.combineReducers)(Object.entries(r).reduce(((e,[t,r])=>({...e,[t]:U(r)})),{}));return e[t]=o,e}),{})));const n=o?o(e.records,t):e.records;return n===e.records&&r===e.config&&o===e.reducer?e:{reducer:o,records:n,config:r}},editsReference:function(e={},t){switch(t.type){case"EDIT_COLLECTION_RECORD":case"UNDO":case"REDO":return{}}return e},undoManager:function(e=function(){let e=[],t=[],r=0;const o=()=>{e=e.slice(0,r||void 0),r=0},n=()=>{var r;const o=0===e.length?0:e.length-1;let n=null!==(r=e[o])&&void 0!==r?r:[];t.forEach((e=>{n=u(n,e)})),t=[],e[o]=n};return{addRecord(r,c=!1){const s=!r||(e=>!e.filter((({changes:e})=>Object.values(e).some((({from:e,to:t})=>"function"!=typeof e&&"function"!=typeof t&&!l()(e,t))))).length)(r);if(c){if(s)return;r.forEach((e=>{t=u(t,e)}))}else{if(o(),t.length&&n(),s)return;e.push(r)}},undo(){t.length&&(o(),n());const c=e[e.length-1+r];if(c)return r-=1,c},redo(){const t=e[e.length+r];if(t)return r+=1,t},hasUndo:()=>!!e[e.length-1+r],hasRedo:()=>!!e[e.length+r]}}()){return e},userPermissions:function(e={},t){switch(t.type){case"RECEIVE_USER_PERMISSION":return{...e,[t.key]:t.isAllowed};case"RECEIVE_USER_PERMISSIONS":return{...e,...t.permissions}}return e}}),M=["create","read","update","delete"];function q(e){const t={};if(!e)return t;const r={create:"POST",read:"GET",update:"PUT",delete:"DELETE"};for(const[o,n]of Object.entries(r))t[o]=e.includes(n);return t}function V(e,t){return[e,t.namespace,t.collection,t.id].filter(Boolean).join("/")}function z(e,t,r){return e.collections?.config?.[t]?.[r]}function $(e,t,r,o){var n;return null!==(n=e.collections.records?.[t]?.[r]?.saving?.[o]?.pending)&&void 0!==n&&n}function F(e,t,r,o){return e.collections.records?.[t]?.[r]?.saving?.[o]?.error}var K=r(55),Q=r.n(K);function H(e,t,r){if(!e||"object"!=typeof e)return e;const o=Array.isArray(t)?t:t.split(".");return o.reduce(((e,t,n)=>(void 0===e[t]&&(Number.isInteger(o[n+1])?e[t]=[]:e[t]={}),n===o.length-1&&(e[t]=r),e[t])),e),e}const B=(0,i.createSelector)(((e,t,r,o,n)=>{var c;const s=e.collections.records?.[t]?.[r]?.queriedData;if(!s)return;const i=null!==(c=n?.context)&&void 0!==c?c:R;if(void 0===n){if(!s.itemIsComplete[i]?.[o])return;return s.items[i][o]}const a=s.items[i]?.[o];if(a&&n._fields){var l;const e={},t=null!==(l=S(n._fields))&&void 0!==l?l:[];for(let r=0;r<t.length;r++){const o=t[r].split(".");let n=a;o.forEach((e=>{n=n?.[e]})),H(e,o,n)}return e}return a}),((e,t,r,o,n)=>{var c;const s=null!==(c=n?.context)&&void 0!==c?c:R;return[e.collections.records?.[t]?.[r]?.queriedData?.items[s]?.[o],e.collections.records?.[t]?.[r]?.queriedData?.itemIsComplete[s]?.[o]]}));function G(e,t,r,o){return B(e,t,r,o)}const W=(0,i.createSelector)(((e,t,r,o)=>{const n=B(e,t,r,o);return n&&Object.keys(n).reduce(((e,t)=>(n[t]&&"object"==typeof n[t]&&void 0!==n[t]?.raw?e[t]=n[t]?.raw:e[t]=n[t],e)),{})}),((e,t,r,o,n)=>{var c;const s=null!==(c=n?.context)&&void 0!==c?c:R;return[e.collections.config,e.collections.records?.[t]?.[r]?.queriedData?.items[s]?.[o],e.collections.records?.[t]?.[r]?.queriedData?.itemIsComplete[s]?.[o]]}));function X(e,t,r,o){return Array.isArray(Y(e,t,r,o))}const Y=(e,t,r,o)=>{const n=e.collections.records?.[t]?.[r]?.queriedData;return n?Z(n,o):null},J=new WeakMap,Z=(0,i.createSelector)(((e,t={})=>{let r=J.get(e);if(r){const e=r.get(t);if(void 0!==e)return e}else r=new(Q()),J.set(e,r);const o=function(e,t){const{stableKey:r,page:o,perPage:n,include:c,fields:s,context:i}=T(t);let a;if(e.queries?.[i]?.[r]&&(a=e.queries[i][r].itemIds),!Array.isArray(a))return null;const l=-1===n?0:(o-1)*n,d=-1===n?a.length:Math.min(l+n,a.length),u=[];for(let t=l;t<d;t++){const r=a[t];if(Array.isArray(c)&&!c.includes(r))continue;if(void 0===r)continue;if(!e.items[i]?.hasOwnProperty(r))return null;const o=e.items[i][r];let n;if(Array.isArray(s)&&s.length>0){n={};for(let e=0;e<s.length;e++){const t=s[e].split(".");let r=o;t.forEach((e=>{r=r?.[e]})),H(n,t,r)}}else{if(!e.itemIsComplete[i]?.[r])return null;n=o}u.push(n)}return u}(e,t);return r.set(t,o),o})),ee=(e,t,r,o)=>{var n;const c=e.collections.records?.[t]?.[r]?.queriedData;if(!c)return null;const{stableKey:s,context:i}=T(o);return null!==(n=c.queries?.[i]?.[s]?.meta?.totalItems)&&void 0!==n?n:null},te=(e,t,r,o)=>{var n;const c=e.collections.records?.[t]?.[r]?.queriedData;if(!c)return null;if(-1===o.per_page)return 1;const{stableKey:s,context:i,perPage:a}=T(o);if(!o.per_page){const e=c.queries?.[i]?.[s]?.meta?.totalPages;if(e)return e}const l=null!==(n=c.queries?.[i]?.[s]?.meta?.totalItems)&&void 0!==n?n:null;return l?Math.ceil(l/a):null},re=(e,t,r,o,n)=>{var c;return null!==(c=e.collections.records?.[t]?.[r]?.queriedData?.tabs?.[o]?.[n])&&void 0!==c?c:null};function oe(e,t,r,o){return e.collections.records?.[t]?.[r]?.edits?.[o]||{}}const ne=(0,i.createSelector)(((e,t,r,o)=>{const{transientEdits:n}=z(e,t,r)||{},c=oe(e,t,r,o)||{};return n?Object.keys(c).reduce(((e,t)=>(n[t]||(e[t]=c[t]),e)),{}):c}),((e,t,r,o)=>[e.collections.config,e.collections.records?.[t]?.[r]?.edits?.[o]]));function ce(e,t,r,o){return $(e,t,r,o)||Object.keys(oe(e,t,r,o)).length>0}const se=(0,i.createSelector)(((e,t,r,o)=>{const n=W(e,t,r,o),c=oe(e,t,r,o);if(n||c)return{...n,...c}}),((e,t,r,o,n)=>{var c;const s=null!==(c=n?.context)&&void 0!==c?c:R;return[e.collections.config,e.collections.records?.[t]?.[r]?.queriedData.items[s]?.[o],e.collections.records?.[t]?.[r]?.queriedData.itemIsComplete[s]?.[o],e.collections.records?.[t]?.[r]?.edits?.[o]]}));function ie(e,t,r,o){var n;return null!==(n=e.collections.records?.[t]?.[r]?.deleting?.[o]?.pending)&&void 0!==n&&n}function ae(e,t,r,o){return e.collections?.records?.[t]?.[r]?.deleting?.[o]?.error}const le=(e,t,r,o,n)=>Boolean(e.collections.records?.[t]?.[r]?.remoteActions?.[n]?.[o]?.pending),de=(e,t,r,o,n)=>e.collections.records?.[t]?.[r]?.remoteActions?.[n]?.[o]?.error;function ue(e){return e.undoManager}function fe(e){return e.undoManager.hasUndo()}function pe(e){return e.undoManager.hasRedo()}function ge(e,t,r){return!(!r.namespace||!r.collection)&&e.userPermissions[V(t,r)]}const he=(0,i.createSelector)(((e,t,r,o)=>(Array.isArray(o)?o:[o]).map((o=>({delete:ge(e,"delete",{namespace:t,collection:r,id:o}),update:ge(e,"update",{namespace:t,collection:r,id:o})})))),(e=>[e.userPermissions]));function Ee(e,t,r,o){return he(e,t,r,o)[0]}function Re(e){return e.editsReference}const Ce=window.wp.apiFetch;var ve=r.n(Ce);let ye=null;const me=async e=>{if(null===ye){const e=await ve()({path:"/batch/v1",method:"OPTIONS"});ye=e.endpoints[0].args.requests.maxItems}const t=[];for(const r of function(e,t){const r=[...e],o=[];for(;r.length;)o.push(r.splice(0,t));return o}(e,ye)){const e=await ve()({path:"/batch/v1",method:"POST",data:{validation:"require-all-validate",requests:r.map((e=>({path:e.path,body:e.data,method:e.method,headers:e.headers})))}});let o;o=e.failed?e.responses.map((e=>({error:e?.body}))):e.responses.map((e=>{const t={};return e.status>=200&&e.status<300?t.output=e.body:t.error=e.body,t})),t.push(...o)}return t},_e=(e=me)=>{let t=0,r=[];const o=new Oe;return{add(e){const n=++t;o.add(n);const c=e=>new Promise(((t,c)=>{r.push({input:e,resolve:t,reject:c}),o.delete(n)}));return"function"==typeof e?Promise.resolve(e(c)).finally((()=>{o.delete(n)})):c(e)},async run(){let t;o.size&&await new Promise((e=>{const t=o.subscribe((()=>{o.size||(t(),e(void 0))}))}));try{if(t=await e(r.map((({input:e})=>e))),t.length!==r.length)throw new Error("run: Array returned by processor must be same size as input array.")}catch(e){for(const{reject:t}of r)t(e);throw e}let n=!0;return t.forEach(((e,t)=>{const o=r[t];var c;e?.error?(o?.reject(e.error),n=!1):o?.resolve(null!==(c=e?.output)&&void 0!==c?c:e)})),r=[],n}}};class Oe{constructor(...e){this.set=new Set(...e),this.subscribers=new Set}get size(){return this.set.size}add(e){return this.set.add(e),this.subscribers.forEach((e=>e())),this}delete(e){const t=this.set.delete(e);return this.subscribers.forEach((e=>e())),t}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}}function be(e){return{type:"ADD_COLLECTION_CONFIG",config:e}}function Ie(e,t,r,o=!1){return{type:"REMOVE_ITEMS",itemIds:Array.isArray(r)?r:[r],namespace:e,collection:t,invalidateCache:o}}const we=(e,t,r,o=null,{throwOnError:n=!0,fetchHandler:c=ve()}={})=>async({dispatch:s,resolveSelect:i})=>{const a=await i.getCollectionConfig(e,t);let l,d=!1;if(!a)return;const u=await s.__unstableAcquireStoreLock(h,["collections","records",e,t,r],{exclusive:!0});try{s({type:"DELETE_COLLECTION_RECORD_START",namespace:e,collection:t,recordId:r});let i=!1;try{let n=`${a.baseURL}/${r}`;o&&(n=(0,w.addQueryArgs)(n,o)),d=await c({path:n,method:"DELETE"}),await s(Ie(e,t,r,!0))}catch(e){i=!0,l=e}if(s({type:"DELETE_COLLECTION_RECORD_FINISH",namespace:e,collection:t,recordId:r,error:l}),i&&n)throw l;return d}finally{s.__unstableReleaseStoreLock(u)}},Se={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Te;const Le=new Uint8Array(16),Ae=[];for(let e=0;e<256;++e)Ae.push((e+256).toString(16).slice(1));const De=function(e,t,r){if(Se.randomUUID&&!t&&!e)return Se.randomUUID();const o=(e=e||{}).random??e.rng?.()??function(){if(!Te){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Te=crypto.getRandomValues.bind(crypto)}return Te(Le)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return(Ae[e[t+0]]+Ae[e[t+1]]+Ae[e[t+2]]+Ae[e[t+3]]+"-"+Ae[e[t+4]]+Ae[e[t+5]]+"-"+Ae[e[t+6]]+Ae[e[t+7]]+"-"+Ae[e[t+8]]+Ae[e[t+9]]+"-"+Ae[e[t+10]]+Ae[e[t+11]]+Ae[e[t+12]]+Ae[e[t+13]]+Ae[e[t+14]]+Ae[e[t+15]]).toLowerCase()}(o)};function ke(e,t,r=void 0){if(!e||"object"!=typeof e||"string"!=typeof t&&!Array.isArray(t))return e;const o=Array.isArray(t)?t:t.split(".");let n=e;return o.forEach((e=>{n=n?.[e]})),void 0!==n?n:r}const Ne=(e,t,r,{throwOnError:o=!0,fetchHandler:n=ve()}={})=>async({select:c,resolveSelect:s,dispatch:i})=>{const a=await s.getCollectionConfig(e,t);if(!a)return;const l=r[a.key||E],d=await i.__unstableAcquireStoreLock(h,["collections","records",e,t,l||De()],{exclusive:!0});try{for(const[o,n]of Object.entries(r)){if("function"==typeof n){const s=n(c.getEditedCollectionRecord(e,t,l));i.editCollectionRecord(e,t,l,{[o]:s},{undoIgnore:!0}),r[o]=s}n?.raw&&(r[o]=n.raw)}let s,d;i({type:"SAVE_COLLECTION_RECORD_START",namespace:e,collection:t,recordId:l});let u=!1;try{const o=`${a.baseURL}${l?"/"+l:""}`;s=await n({path:o,method:l?"PUT":"POST",data:r}),i.receiveCollectionRecords(e,t,[s],void 0,void 0,!0,r)}catch(e){u=!0,d=e}if(i({type:"SAVE_COLLECTION_RECORD_FINISH",namespace:e,collection:t,recordId:l,error:d}),u&&o)throw d;return s}finally{i.__unstableReleaseStoreLock(d)}},Pe=(e,t,r,o={})=>async({select:n,dispatch:c,resolveSelect:s})=>{if(!n.hasEditsForCollectionRecord(e,t,r))return;const i=await s.getCollectionConfig(e,t);if(!i)return;const a=i.key||E,l=n.getCollectionRecordNonTransientEdits(e,t,r),d={[a]:r,...l};return await c.saveCollectionRecord(e,t,d,o)},je=(e,t,r,o,n)=>async({select:c,dispatch:s,resolveSelect:i})=>{if(!c.hasEditsForCollectionRecord(e,t,r))return;const a=c.getCollectionRecordEdits(e,t,r),l={};for(const e of o)H(l,e,ke(a,e));const d=await i.getCollectionConfig(e,t);return r&&(l[d?.key||E]=r),await s.saveCollectionRecord(e,t,l,n)};function Ue(e,t,r,o=void 0,n=void 0,c=!1,s=void 0){const i={type:"RECEIVE_COLLECTION_RECORDS",namespace:e,collection:t,invalidateCache:c,records:Array.isArray(r)?r:[r],persistedEdits:s,meta:n};return o&&(i.query=o),i}function xe(e,t,r,o,n){return{type:"RECEIVE_COLLECTION_RECORD_TAB_CONTENT",namespace:e,collection:t,recordId:r,tabName:o,content:n}}const Me=()=>({select:e,dispatch:t})=>{const r=e.getUndoManager().undo();r&&t({type:"UNDO",record:r})},qe=()=>({select:e,dispatch:t})=>{const r=e.getUndoManager().redo();r&&t({type:"REDO",record:r})},Ve=()=>({select:e})=>{e.getUndoManager().addRecord()},ze=(e,t,r,o,n={})=>({select:c,dispatch:s})=>{const i=c.getCollectionConfig(e,t);if(!i)throw new Error(`The collection being edited (${e}, ${t}) does not have a loaded config.`);const{mergedEdits:a={}}=i,l=c.getRawCollectionRecord(e,t,r),d=c.getEditedCollectionRecord(e,t,r),u={namespace:e,collection:t,recordId:r,edits:Object.keys(o).reduce(((e,t)=>{const r=l[t],n=d[t],c=a[t]?{...n,...o[t]}:o[t];return e[t]=m()(r,c)?void 0:c,e}),{})};n.undoIgnore||c.getUndoManager().addRecord([{id:{namespace:e,collection:t,recordId:r},changes:Object.keys(o).reduce(((e,t)=>(e[t]={from:d[t],to:o[t]},e)),{})}],n.isCached),s({type:"EDIT_COLLECTION_RECORD",...u})},$e=(e,t,r,o,{throwOnError:n=!0,fetchHandler:c=ve()}={})=>async({resolveSelect:s,dispatch:i})=>{const a=await s.getCollectionConfig(e,t);if(!a)return;const l=await i.__unstableAcquireStoreLock(h,["collections","records",e,t,r],{exclusive:!0});try{let s,l;i({type:"DO_REMOTE_COLLECTION_RECORD_ACTION_START",namespace:e,collection:t,recordId:r,action:o});let d=!1;try{const n=`${a.baseURL}/${r}/remote-action/${o}`;s=await c({path:n,method:"POST",data:{}}),s?.record?.data&&(i.receiveCollectionRecords(e,t,[s.record?.data],void 0,void 0,!0),i.invalidateResolution("getCollectionRecordTabContent",[e,t,r,"overview"]),a.tabs&&Object.keys(a.tabs).forEach((o=>{i.invalidateResolution("getCollectionRecordTabContent",[e,t,r,o])})))}catch(e){d=!0,l=e}if(i({type:"DO_REMOTE_COLLECTION_RECORD_ACTION_FINISH",namespace:e,collection:t,recordId:r,action:o,error:l}),d&&n)throw l;return s?.result}finally{i.__unstableReleaseStoreLock(l)}},Fe=e=>async({dispatch:t})=>{const r=_e(),o={saveCollectionRecord:(e,o,n,c)=>r.add((r=>t.saveCollectionRecord(e,o,n,{...c,fetchHandler:r}))),saveEditedCollectionRecord:(e,o,n,c)=>r.add((r=>t.saveEditedCollectionRecord(e,o,n,{...c,fetchHandler:r}))),deleteCollectionRecord:(e,o,n,c,s)=>r.add((r=>t.deleteCollectionRecord(e,o,n,c,{...s,fetchHandler:r})))},n=e.map((e=>e(o))),[,...c]=await Promise.all([r.run(),...n]);return c};function Ke(e,t){return{type:"RECEIVE_USER_PERMISSION",key:e,isAllowed:t}}function Qe(e){return{type:"RECEIVE_USER_PERMISSIONS",permissions:e}}const He=e=>(...t)=>async({resolveSelect:r})=>{await r[e](...t)},Be=(e,t,r,o)=>async({dispatch:n,resolveSelect:c})=>{const s=await c.getCollectionConfig(e,t);if(!s)return;const i=(0,w.addQueryArgs)(`${s.baseURL}/${r}/${o}`,{...s.baseURLParams,uniqid:Math.random()}),a=await ve()({path:i});n.receiveCollectionRecordTabContent(e,t,r,o,a)},Ge=(e,t,r="",o={})=>async({select:n,dispatch:c,registry:s,resolveSelect:i})=>{const a=await i.getCollectionConfig(e,t);if(!a)return;const l=await c.__unstableAcquireStoreLock(h,["collections","records",e,t,r],{exclusive:!1}),d=a.key||E;try{void 0!==o&&o._fields&&(o={...o,_fields:[...new Set([...S(o._fields)||[],d])].join()});const i=(0,w.addQueryArgs)(a.baseURL+(r?"/"+r:""),{...a.baseURLParams,uniqid:Math.random(),...o});if(void 0!==o&&o._fields&&(o={...o,include:[r]},n.hasCollectionRecords(e,t,o)))return;const l=await ve()({path:i,parse:!1}),u=await l.json(),f=q(l.headers?.get("allow")),p=[],g={};for(const o of M)g[V(o,{namespace:e,collection:t,id:r})]=f[o],p.push([o,{namespace:e,collection:t,id:r}]);s.batch((()=>{c.receiveCollectionRecords(e,t,[u],o),c.receiveUserPermissions(g),c.finishResolutions("canUser",p)}))}finally{c.__unstableReleaseStoreLock(l)}},We=He("getCollectionRecord"),Xe=He("getCollectionRecord"),Ye=(e,t,r={})=>async({dispatch:o,registry:n,resolveSelect:c})=>{const s=await c.getCollectionConfig(e,t);if(!s)return;const i=await o.__unstableAcquireStoreLock(h,["collections","records",e,t],{exclusive:!1}),a=s.key||E;function l(r){return r.filter((e=>e?.[a])).map((r=>[e,t,r[a]]))}try{r._fields&&(r={...r,_fields:[...new Set([...S(r._fields)||[],a])].join()});const c=(0,w.addQueryArgs)(s.baseURL,{...s.baseURLParams,uniqid:Math.random(),__next_as_array:!0,...r});let d,u=[];if(s.supportsPagination&&-1!==r.per_page){const e=await ve()({path:c,parse:!1});u=await e.json(),d={totalItems:parseInt(e.headers.get("X-WP-Total")),totalPages:parseInt(e.headers.get("X-WP-TotalPages"))}}else if(-1===r.per_page&&!1!==r.RECEIVE_INTERMEDIATE_RESULTS){let s,i=1;do{const a=await ve()({path:(0,w.addQueryArgs)(c,{page:i,per_page:100}),parse:!1}),d=Object.values(await a.json());s=parseInt(a.headers.get("X-WP-TotalPages")),u.push(...d),n.batch((()=>{o.receiveCollectionRecords(e,t,u,r),o.finishResolutions("getCollectionRecord",l(d))})),i++}while(i<=s);d={totalItems:u.length,totalPages:1}}else u=Object.values(await ve()({path:c})),d={totalItems:u.length,totalPages:1};r._fields&&(u=u.map((e=>(r._fields.split(",").forEach((t=>{e.hasOwnProperty(t)||(e[t]=void 0)})),e)))),n.batch((()=>{if(o.receiveCollectionRecords(e,t,u,r,d),!r?._fields&&!r.context){const r=u.filter((e=>e?.[a])).map((e=>({links:e?._links,id:e[a],permissions:q(e?._links?.self?.[0].targetHints.allow)}))),n=[],c={};for(const o of r)for(const r of M)n.push([r,{namespace:e,collection:t,id:o.id}]),c[V(r,{namespace:e,collection:t,id:o.id})]=o.permissions[r];o.receiveUserPermissions(c),o.finishResolutions("getCollectionRecord",l(u)),o.finishResolutions("canUser",n)}o.__unstableReleaseStoreLock(i)}))}finally{o.__unstableReleaseStoreLock(i)}};Ye.shouldInvalidate=(e,t,r)=>("RECEIVE_COLLECTION_RECORDS"===e.type||"REMOVE_ITEMS"===e.type)&&e.invalidateCache&&t===e.namespace&&r===e.collection;const Je=(e,t)=>async({dispatch:r})=>{const o=await ve()({path:`/${e}/v1/${t}/collection_schema?uniqid=${Math.random()}`});o&&r.addCollectionConfig({...o,tabs:o.tabs&&!Array.isArray(o.tabs)?o.tabs:void 0,namespace:e,collection:t,props:o.schema||[],baseURL:`/${e}/v1/${t}`,baseURLParams:{context:R,uniqid:Math.random()},transientEdits:{selection:!0},mergedEdits:{metadata:!0},key:E,getTitle:e=>o.id_prop?e?.[o.id_prop]?.rendered||e?.[o.id_prop]:String(e?.[E]||""),supportsPagination:!0})};function Ze(e,t){const r={...e};let o=r;for(const e of t)o.children={...o.children,[e]:{locks:[],children:{},...o.children[e]}},o=o.children[e];return r}function et(e,t){let r=e;for(const e of t){const t=r.children[e];if(!t)return null;r=t}return r}function tt({exclusive:e},t){return!(!e||!t.length)||!(e||!t.filter((e=>e.exclusive)).length)}const rt={requests:[],tree:{locks:[],children:{}}};function ot(e=rt,t){switch(t.type){case"ENQUEUE_LOCK_REQUEST":{const{request:r}=t;return{...e,requests:[r,...e.requests]}}case"GRANT_LOCK_REQUEST":{const{lock:r,request:o}=t,{store:n,path:c}=o,s=[n,...c],i=Ze(e.tree,s),a=et(i,s);return a.locks=[...a.locks,r],{...e,requests:e.requests.filter((e=>e!==o)),tree:i}}case"RELEASE_LOCK":{const{lock:r}=t,o=[r.store,...r.path],n=Ze(e.tree,o),c=et(n,o);return c.locks=c.locks.filter((e=>e!==r)),{...e,tree:n}}}return e}function nt(e,t,r,{exclusive:o}){const n=[t,...r],c=e.tree;for(const e of function*(e,t){let r=e;yield r;for(const e of t){const t=r.children[e];if(!t)break;yield t,r=t}}(c,n))if(tt({exclusive:o},e.locks))return!1;const s=et(c,n);if(!s)return!0;for(const e of function*(e){const t=Object.values(e.children);for(;t.length;){const e=t.pop();yield e,t.push(...Object.values(e.children))}}(s))if(tt({exclusive:o},e.locks))return!1;return!0}function ct(){let e=ot(void 0,{type:"@@INIT"});function t(){for(const t of function(e){return e.requests}(e)){const{store:r,path:o,exclusive:n,notifyAcquired:c}=t;if(nt(e,r,o,{exclusive:n})){const s={store:r,path:o,exclusive:n};e=ot(e,{type:"GRANT_LOCK_REQUEST",lock:s,request:t}),c(s)}}}return{acquire:function(r,o,n){return new Promise((c=>{e=ot(e,{type:"ENQUEUE_LOCK_REQUEST",request:{store:r,path:o,exclusive:n,notifyAcquired:c}}),t()}))},release:function(r){e=ot(e,{type:"RELEASE_LOCK",lock:r}),t()}}}const st=window.React;let it=function(e){return e.Idle="IDLE",e.Resolving="RESOLVING",e.Error="ERROR",e.Success="SUCCESS",e}({});const at=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"];function lt(e,t){return(0,i.useSelect)(((t,r)=>e((e=>dt(t(e))),r)),t)}const dt=function(e,t){var r,o,n=0;function c(){var c,s,i=r,a=arguments.length;e:for(;i;){if(i.args.length===arguments.length){for(s=0;s<a;s++)if(i.args[s]!==arguments[s]){i=i.next;continue e}return i!==r&&(i===o&&(o=i.prev),i.prev.next=i.next,i.next&&(i.next.prev=i.prev),i.next=r,i.prev=null,r.prev=i,r=i),i.val}i=i.next}for(c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return i={args:c,val:e.apply(null,c)},r?(r.prev=i,i.next=r):o=i,n===t.maxSize?(o=o.prev).next=null:n++,r=i,i.val}return t=t||{},c.clear=function(){r=null,o=null,n=0},c}((e=>{const t={};for(const r in e)at.includes(r)||Object.defineProperty(t,r,{get:()=>(...t)=>{const o=e[r](...t),n=e.getResolutionState(r,t);let c;switch(n?.status){case"resolving":c=it.Resolving;break;case"finished":c=it.Success;break;case"error":c=it.Error;break;case void 0:c=it.Idle}return{data:o,status:c,isResolving:c===it.Resolving,hasStarted:c!==it.Idle,hasResolved:c===it.Success||c===it.Error,error:c===it.Error?n?.error:void 0}}});return t})),ut=window.ReactJSXRuntime,ft=(0,st.createContext)({}),pt=({namespace:e,collection:t,recordId:r,children:o})=>{const n=(0,st.useContext)(ft),c=(0,st.useMemo)((()=>({...n,[e]:{...n?.[e],[t]:r},hizzle_store_current:{namespace:e,collection:t,recordId:r}})),[n,e,t,r]);return(0,ut.jsx)(ft.Provider,{value:c,children:o})};function gt(){const{hizzle_store_current:e}=(0,st.useContext)(ft);return e}function ht(e=void 0,t=void 0){const r=(0,st.useContext)(ft);return e&&t?r?.[e]?.[t]:r?.hizzle_store_current?.recordId}function Et(){const{namespace:e,collection:t}=gt()||{},{data:r,...o}=lt((r=>e&&t?r(bt).getCollectionConfig(e,t):{data:null}),[e,t]);return{config:r,...o}}const Rt=window.wp.element,Ct={},vt=(e,t,r,o={enabled:!0})=>{const{editCollectionRecord:n,saveEditedCollectionRecord:c}=(0,i.useDispatch)(bt),s=(0,Rt.useMemo)((()=>({edit:(o,c={})=>n(e,t,r,o,c),save:(o={})=>c(e,t,r,{throwOnError:!0,...o})})),[n,e,t,r,c]),a=(0,i.useSelect)((n=>o.enabled?{editedRecord:n(bt).getEditedCollectionRecord(e,t,r),hasEdits:n(bt).hasEditsForCollectionRecord(e,t,r),edits:n(bt).getCollectionRecordNonTransientEdits(e,t,r),isSaving:n(bt).isSavingCollectionRecord(e,t,r),savingError:n(bt).getLastCollectionSaveError(e,t,r)}:{editedRecord:Ct,hasEdits:!1,edits:Ct,isSaving:!1,savingError:void 0}),[e,t,r,o.enabled]),{data:l,...d}=lt((n=>o.enabled?n(bt).getCollectionRecord(e,t,r):{data:null}),[e,t,r,o.enabled]);return{record:l,...a,...d,...s}},yt=[],mt=(e,t,r={},o={enabled:!0})=>{const n=(0,w.addQueryArgs)("",r),{data:c,...s}=lt((n=>o.enabled?n(bt).getCollectionRecords(e,t,r):{data:yt}),[e,t,n,o.enabled]),{totalItems:a,totalPages:l}=(0,i.useSelect)((n=>o.enabled?{totalItems:n(bt).getCollectionRecordsTotalItems(e,t,r),totalPages:n(bt).getCollectionRecordsTotalPages(e,t,r)}:{totalItems:null,totalPages:null}),[e,t,n,o.enabled]);return{records:c,totalItems:a,totalPages:l,...s}},_t=(e,t,r,o)=>{const n=ht(e,t),c=null!=o?o:n,{value:s,fullValue:a}=(0,i.useSelect)((o=>{const{getCollectionRecord:n,getEditedCollectionRecord:s}=o(bt),i=n(e,t,c),a=s(e,t,c);return i&&a?{value:a[r],fullValue:i[r]}:{}}),[e,t,c,r]),{editCollectionRecord:l}=(0,i.useDispatch)(bt);return[s,(0,Rt.useCallback)((o=>{l(e,t,c,{[r]:o})}),[l,e,t,c,r]),a]},Ot=(e,t,r,o)=>lt((n=>n(bt).getCollectionRecordTabContent(e,t,r,o)),[e,t,r,o]),bt=(0,i.createReduxStore)(h,{reducer:x,actions:{...c,...function(){const e=ct();return{__unstableAcquireStoreLock:function(t,r,{exclusive:o}){return()=>e.acquire(t,r,o)},__unstableReleaseStoreLock:function(t){return()=>e.release(t)}}}()},selectors:n,resolvers:s});(0,i.register)(bt),(window.hizzlewp=window.hizzlewp||{}).store=o})();