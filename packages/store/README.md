# Store

This package contains store utilities for the HizzleWP framework.

### Installation

```bash
npm install @hizzlewp/store
composer require hizzle/store
```

### Usage

```tsx
import { useCollectionRecords } from '@hizzlewp/store';

// In your component, use the useRecords hook to get the records.
export ListRecords = ( {per_page} ) => {
    const { data, total, summary, isResolving, hasResolutionFailed, getResolutionError } = useCollectionRecords( 'noptin', 'subscribers', { per_page } );

    // Check if the records are still loading.
    if ( isResolving() ) {
        return <div>Loading...</div>;
    }

    // Check if the records failed to load.
    if ( hasResolutionFailed() ) {
        return <div>Error: { getResolutionError() }</div>;
    }

    // Render the records.
    return (
        <div>
            <ul>
                { data.map( ( record ) => <li key={ record.id }>{ record.email }</li> ) }
            </ul>
            <p>Total: { total }</p>
            <p>Summary: { summary }</p>
        </div>
    );
}
```

### API

## Collection Provider

The `CollectionProvider` component is used to provide the collection context to the component tree.

```tsx
import { CollectionProvider } from '@hizzlewp/store';

<CollectionProvider namespace="noptin" collection="subscribers" recordId={ 123 }>
    <SubscriberDetails />
</CollectionProvider>
```

recordId is optional. If provided, the component will be rendered with the record context.

<!-- START TOKEN(Autogenerated collection provider|src/collection-provider.tsx) -->

### CollectionProvider

Context provider component for providing a collection.

_Parameters_

-   _props_ `Object`: The component's props.
-   _props.namespace_ `string`: The collection namespace.
-   _props.collection_ `string`: The collection name.
-   _props.recordId_ `number`: The record ID.
-   _props.children_ `*`: The children to wrap.

_Returns_

-   `Object`: The provided children, wrapped with the collection's context provider.

### useProvidedCollection

Hook that returns the current collection.

_Returns_

-   `NamespaceCollection|undefined`: The collection config from context.

### useProvidedCollectionConfig

Hook that returns the current collection config.

### useProvidedRecordId

Hook that returns the closest current record ID.

_Parameters_

-   _namespace_ `string`: The namespace of the collection to use, if not provided, the current namespace will be used.
-   _collection_ `string`: The collection name to use, if not provided, the current collection will be used.

_Returns_

-   `number|undefined`: The current record ID from context.

<!-- END TOKEN(Autogenerated collection provider|src/collection-provider.tsx) -->

## Actions

The following set of dispatching action creators are available on the object returned by `wp.data.dispatch( 'hizzlewp/store' )`:

<!-- START TOKEN(Autogenerated actions|src/actions.ts) -->

### addCollectionConfig

Returns an action object used in adding new collection config.

_Parameters_

-   _config_ `CollectionConfig`: Collection config.

_Returns_

-   `CollectionConfigAction`: Action object.

### batch

Runs multiple store actions at the same time using one API request.

Example:

    const [ savedRecord, updatedRecord, deletedRecord ] =
      await dispatch( 'hizzlewp/store' ).batch( [
        ( { saveCollectionRecord } ) => saveCollectionRecord( 'noptin', 'subscribers', { email: 'john@doe.com', name: 'John Doe' } ),
        ( { saveEditedCollectionRecord } ) => saveEditedCollectionRecord( 'noptin', 'subscribers', 123 ),
        ( { deleteCollectionRecord } ) => deleteCollectionRecord( 'noptin', 'subscribers', 123, null ),
      ] );

_Parameters_

-   _requests_ `Array`: Array of functions which are invoked simultaneously. Each function is passed an object containing `saveCollectionRecord`, `saveEditedCollectionRecord`, and `deleteCollectionRecord`.

_Returns_

-   `(thunkArgs: Object) => Promise`: A promise that resolves to an array containing the return values of each function given in `requests`.

### bulkDeleteCollectionRecords

Action triggered to bulk delete collection records.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _query_ `Record<string, any>`: Query object. We'll use the query to determine which records to delete.
-   _options_ `Object`: Saving options.
-   _options.throwOnError_ `boolean`: If false, this action suppresses all the exceptions. Defaults to false.
-   _options.fetchHandler_ `Function`: The fetch handler to use. Defaults to apiFetch.

### bulkUpdateCollectionRecords

Action triggered to bulk update collection records.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _query_ `Record<string, any>`: Query object. We'll use the query to determine which records to update.
-   _data_ `Record<string, any>`: Data to update the records with.
-   _options_ `Object`: Saving options.
-   _options.throwOnError_ `boolean`: If false, this action suppresses all the exceptions. Defaults to false.
-   _options.fetchHandler_ `Function`: The fetch handler to use. Defaults to apiFetch.

### createUndoLevel

Forces the creation of a new undo level.

_Returns_

-   `Object`: Action object.

### deleteCollectionRecord

Action triggered to delete a collection record.

_Parameters_

-   _namespace_ `string`: Namespace of the deleted collection.
-   _collection_ `string`: Name of the deleted collection.
-   _recordId_ `number|string`: Record ID of the deleted record.
-   _query_ `?Object`: Special query parameters for the DELETE API call.

### doBatchCollectionAction

Trigger a batch action on a collection record.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _action_ `BatchAction`: Action to perform.
-   _options_ `Object`: Options for the action.
-   _options.throwOnError_ `boolean`: If false, this action suppresses all the exceptions. Defaults to false.
-   _options.fetchHandler_ `Function`: The fetch handler to use. Defaults to apiFetch.

### doRemoteCollectionRecordAction

Trigger a remote action on a collection record.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _recordId_ `CollectionRecordKey`: Record ID of the record to fire the action on.
-   _action_ `string`: Action to perform.
-   _options_ `Object`: Options for the action.
-   _options.throwOnError_ `boolean`: If false, this action suppresses all the exceptions. Defaults to false.
-   _options.fetchHandler_ `Function`: The fetch handler to use. Defaults to apiFetch.

### editCollectionRecord

Returns an action object that triggers an edit to a collection record.

_Parameters_

-   _namespace_ `string`: Namespace of the edited collection.
-   _collection_ `string`: Collection of the edited collection.
-   _recordId_ `number|string`: Record ID of the edited collection record.
-   _edits_ `Object`: The edits.
-   _options_ `Object`: Options for the edit.
-   _options.undoIgnore_ `[boolean]`: Whether to ignore the edit in undo history or not.

_Returns_

-   `Object`: Action object.

### receiveCollectionRecords

Returns an action object used in signalling that entity records have been received.

_Parameters_

-   _namespace_ `string`: Namespace of the received entity records.
-   _collection_ `string`: Collection of the received entity records.
-   _records_ `Array`: Records received.
-   _query_ `?Object`: Query Object.
-   _invalidateCache_ `?boolean`: Should invalidate query caches.
-   _persistedEdits_ `?Object`: Edits to reset.
-   _meta_ `?Object`: Meta information about pagination.

_Returns_

-   `Object`: Action object.

### receiveCollectionRecordTabContent

Returns an action object used in signalling that a record's tab content has been received.

_Parameters_

-   _namespace_ `string`: Namespace of the record.
-   _collection_ `string`: Collection of the record.
-   _recordId_ `number|string`: Record id of received tab content.
-   _tabName_ `tabName`: The tab name, e.g, overview.
-   _content_ `any`: The tab content.

_Returns_

-   `Object`: Action object.

### redo

Action triggered to redo the last undone edit to a collection record, if any.

### removeItems

Returns an action object used in signalling that collection records have been deleted and they need to be removed from collections state.

_Parameters_

-   _namespace_ `string`: Namespace of the removed collection.
-   _collection_ `string`: Collection of the removed collection.
-   _records_ `Array|number|string`: Record IDs of the removed entities.
-   _invalidateCache_ `boolean`: Controls whether we want to invalidate the cache.

_Returns_

-   `Object`: Action object.

### saveCollectionRecord

Action triggered to save an collection record.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _data_ `Object`: Record to be saved.
-   _options_ `Object`: Options for the action.
-   _options.throwOnError_ `boolean`: If false, this action suppresses all the exceptions. Defaults to false.
-   _options.fetchHandler_ `Function`: The fetch handler to use. Defaults to apiFetch.

### saveEditedCollectionRecord

Action triggered to save a collection record's edits.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _recordId_ `Object`: ID of the record.
-   _options_ `Object=`: Saving options.

### saveSpecifiedCollectionRecordEdits

Action triggered to save only specified properties for the collection record.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _recordId_ `number|string`: ID of the record.
-   _itemsToSave_ `Array`: List of record properties or property paths to save.
-   _options_ `Object`: Saving options.

### setSelectedCollectionRecords

Returns an action object used to toggle a record selection for a given query.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _query_ `Object`: Optional query parameters.
-   _recordId_ `number|string`: Record id of received tab content.
-   _selected_ `boolean`: Whether to select the record.
-   _isShiftKey_ `boolean`: Whether the shift key is pressed.

_Returns_

-   `Object`: Action object.

### toggleAllCollectionRecordsSelected

Returns an action object used to toggle all records selection for a given query.

_Parameters_

-   _namespace_ `string`: Namespace of the collection.
-   _collection_ `string`: Collection name.
-   _query_ `Object`: Optional query parameters.

_Returns_

-   `Object`: Action object.

### undo

Action triggered to undo the last edit to a collection record, if any.

<!-- END TOKEN(Autogenerated actions|src/actions.ts) -->

## Selectors

The following set of selectors are available on the object returned by `wp.data.select( 'hizzlewp/store' )`:

<!-- START TOKEN(Autogenerated selectors|src/selectors.ts) -->

### canUser

Returns whether the current user can perform the given action on the given REST resource.

Calling this may trigger an OPTIONS request to the REST API via the `canUser()` resolver.

<https://developer.wordpress.org/rest-api/reference/>

_Parameters_

-   _state_ `State`: Data state.
-   _action_ `string`: Action to check. One of: 'create', 'read', 'update', 'delete'.
-   _resource_ `CollectionResource`: Entity resource to check. Accepts entity object `{ namespace: 'noptin', collection: 'subscribers', id: 1 }`.

_Returns_

-   `boolean | undefined`: Whether or not the user can perform the action, or `undefined` if the OPTIONS request is still being made.

### getCollectionConfig

Returns the collection config given its namespace and collection name.

_Parameters_

-   _state_ `State`: Data state.
-   _namespace_ `string`: The namespace of the collections.
-   _collection_ `string`: The collection name.

_Returns_

-   `CollectionConfig | undefined`: Collection config

### getCollectionRecord

Returns the Collection's record object by key. Returns `null` if the record is not yet received, undefined if the record is known to not exist, or the record object if it exists and is received.

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _key_ `CollectionRecordKey`: Record's key / id.
-   _query_ `Record< string, any >`: Optional query. If requesting specific fields, fields must always include the ID.

_Returns_

-   `CollectionRecord | Partial< CollectionRecord > | null | undefined`: Record.

### getCollectionRecordEdits

Returns the specified collection record's edits.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: Record namespace.
-   _collection_ `string`: Record collection.
-   _recordId_ `CollectionRecordKey`: Record ID.

_Returns_

-   The collection record's edits.

### getCollectionRecordNonTransientEdits

Returns the specified collection record's non transient edits.

Transient edits don't create an undo level, and are not considered for change detection. They are defined in the collection's config.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: Record namespace.
-   _collection_ `string`: Record collection.
-   _recordId_ `CollectionRecordKey`: Record ID.

_Returns_

-   The collection record's non transient edits.

### getCollectionRecordNoResolver

Returns the Collection's record object by key.

Doesn't trigger a resolver nor requests the collection records from the API if the record isn't available in the local state.

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _key_ `CollectionRecordKey`: Record's key / id.

_Returns_

-   Record.

### getCollectionRecordPermissions

Returns the collection record permissions for the given collection record id.

_Parameters_

-   _state_ `State`: Data state.
-   _namespace_ `string`: Collection namespace.
-   _collection_ `string`: Collection name.
-   _id_ `string`: Collection record id.

_Returns_

-   The collection record permissions.

### getCollectionRecords

Returns the Collection's records.

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _query_ `Record< string, any >`: Optional records query. If requesting specific fields, fields must always include the ID.

_Returns_

-   `CollectionRecord[] | null`: Records.

### getCollectionRecordsPermissions

Returns the collection records permissions for the given collection record ids.

### getCollectionRecordsTotalItems

Returns the Collection's total available records for a given query (ignoring pagination).

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _query_ `Record< string, any >`: Optional terms query. If requesting specific fields, fields must always include the ID.

_Returns_

-   `number | null`: number | null.

### getCollectionRecordsTotalPages

Returns the number of available pages for the given query.

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _query_ `Record< string, any >`: Optional terms query. If requesting specific fields, fields must always include the ID.

_Returns_

-   `number | null`: number | null.

### getCollectionRecordTabContent

Returns the content for a given record and tab.

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _recordId_ `CollectionRecordKey`: The record ID.
-   _tabName_ `string`: The tab name.

_Returns_

-   The tab content.

### getEditedCollectionRecord

Returns the specified collection record, merged with its edits.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: Record namespace.
-   _collection_ `string`: Record collection.
-   _recordId_ `CollectionRecordKey`: Record ID.

_Returns_

-   `CollectionRecord | undefined`: The collection record, merged with its edits.

### getIsAllCollectionRecordsSelected

Returns whether all records are selected for a given query.

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.

### getLastCollectionDeleteError

Returns the specified collection record's last delete error.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: Record namespace.
-   _collection_ `string`: Record collection.
-   _recordId_ `CollectionRecordKey`: Record ID.

_Returns_

-   The collection record's save error.

### getLastCollectionSaveError

Returns the error that occurred while saving the specified collection record, and undefined otherwise.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: Record namespace.
-   _collection_ `string`: Record collection.
-   _recordId_ `CollectionRecordKey`: Record ID.

_Returns_

-   `Error | undefined`: Whether the collection record has a save error or not.

### getQueriedItems

Returns items for a given query, or null if the items are not known. Caches result both per state (by reference) and per query (by deep equality). The caching approach is intended to be durable to query objects which are deeply but not referentially equal, since otherwise:

`getQueriedItems( state, {} ) !== getQueriedItems( state, {} )`

_Parameters_

-   _state_ `Object`: State object.
-   _query_ `?Object`: Optional query.

_Returns_

-   `?Array`: Query items.

### getRawCollectionRecord

Returns the collection's record object by key, with its attributes mapped to their raw values.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _key_ `CollectionRecordKey`: Record's key.

_Returns_

-   `CollectionRecord | undefined`: Object with the collection's raw attributes.

### getReferenceByDistinctEdits

Returns a new reference when edited values have changed. This is useful in inferring where an edit has been made between states by comparison of the return values using strict equality.

_Usage_

    const hasEditOccurred = (
       getReferenceByDistinctEdits( beforeState ) !==
       getReferenceByDistinctEdits( afterState )
    );

_Parameters_

-   _state_ `State`: Editor state.

_Returns_

-   A value whose reference will change only when an edit occurs.

### getRemoteActionError

Returns the error for a remote action for a specific record.

_Parameters_

-   _state_ `State`: The store state.
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The name of the collection.
-   _actionName_ `string`: The name of the remote action.
-   _recordId_ `CollectionRecordKey`: The ID of the record.

_Returns_

-   `Error|undefined`: The error for the remote action, if any.

### getSelectedCollectionRecords

Returns the selected records for a given query.

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _query_ `Record< string, any >`: Optional records query.

_Returns_

-   The selected records.

### getUndoManager

Returns the previous edit from the current undo offset for the entity records edits history, if any.

_Parameters_

-   _state_ `State`: State tree.

_Returns_

-   The undo manager.

### hasCollectionRecords

Returns true if records have been received for the given set of parameters, or false otherwise.

_Parameters_

-   _state_ `State`: State tree
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The collection name.
-   _query_ `Record< string, any >`: Optional records query.

_Returns_

-   `boolean`: Whether entity records have been received.

### hasEditsForCollectionRecord

Returns true if the specified collection record has edits, and false otherwise.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: Record namespace.
-   _collection_ `string`: Record collection.
-   _recordId_ `CollectionRecordKey`: Record ID.

_Returns_

-   `boolean`: Whether the collection record has edits or not.

### hasRedo

Returns true if there is a next edit from the current undo offset for the collection records edits history, and false otherwise.

_Parameters_

-   _state_ `State`: State tree.

_Returns_

-   `boolean`: Whether there is a next edit or not.

### hasUndo

Returns true if there is a previous edit from the current undo offset for the collection records edits history, and false otherwise.

_Parameters_

-   _state_ `State`: State tree.

_Returns_

-   `boolean`: Whether there is a previous edit or not.

### isDeletingCollectionRecord

Returns true if the specified collection record is deleting, and false otherwise.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: Record namespace.
-   _collection_ `string`: Record collection.
-   _recordId_ `CollectionRecordKey`: Record ID.

_Returns_

-   `boolean`: Whether the collection record is deleting or not.

### isDoingRemoteCollectionRecordAction

Returns whether a remote action is running for a specific record.

_Parameters_

-   _state_ `State`: The store state.
-   _namespace_ `string`: The namespace of the collection.
-   _collection_ `string`: The name of the collection.
-   _actionName_ `string`: The name of the remote action.
-   _recordId_ `CollectionRecordKey`: The ID of the record.

_Returns_

-   `boolean`: Whether the remote action is running.

### isSavingCollectionRecord

Returns true if the specified collection record is saving, and false otherwise.

_Parameters_

-   _state_ `State`: State tree.
-   _namespace_ `string`: Record namespace.
-   _collection_ `string`: Record collection.
-   _recordId_ `CollectionRecordKey`: Record ID.

_Returns_

-   `boolean`: Whether the collection record is saving or not.

<!-- END TOKEN(Autogenerated selectors|src/selectors.ts) -->

## Hooks

The following set of react hooks are available to import from the `@hizzlewp/store` package:

<!-- START TOKEN(Autogenerated hooks|src/hooks/index.ts) -->

### useCollectionRecord

Resolves the specified collection record.

_Usage_

```js
import { useCollectionRecord } from '@hizzlewp/store';

function SubscriberDisplay( { id } ) {
  const { record, isResolving, error } = useCollectionRecord( 'noptin', 'subscribers', id );

  if ( isResolving ) {
    return 'Loading...';
  }

  if ( error ) {
    return 'Error: ' + error.message;
  }

  return record.email;
}

// Rendered in the application:
// <SubscriberDisplay id={ 1 } />
```

In the above example, when `SubscriberDisplay` is rendered into an
application, the subscriber and the resolution details will be retrieved from
the store state using `getCollectionRecord()`, or resolved if missing.

```js
import { useCallback } from 'react';
import { useDispatch } from '@wordpress/data';
import { __ } from '@wordpress/i18n';
import { TextControl } from '@wordpress/components';
import { store as noticeStore } from '@wordpress/notices';
import { useCollectionRecord } from '@hizzlewp/store';

function SubscriberForm( { id } ) {
	const subscriber = useCollectionRecord( 'noptin', 'subscribers', id );
	const { createSuccessNotice, createErrorNotice } =
		useDispatch( noticeStore );

	const setEmail = useCallback( ( email ) => {
		subscriber.edit( { email } );
	}, [ subscriber.edit ] );

	if ( subscriber.isResolving ) {
		return 'Loading...';
	}

	if ( subscriber.error ) {
		return 'Error: ' + subscriber.error.message;
	}

	async function onEdit( event ) {
		event.preventDefault();
		try {
			await subscriber.save();
			createSuccessNotice( __( 'Subscriber updated.' ), {
				type: 'snackbar',
			} );
		} catch ( error ) {
			createErrorNotice( error.message, { type: 'snackbar' } );
		}
	}

	return (
		<form onSubmit={ onEdit }>
			<TextControl
			__nextHasNoMarginBottom
			__next40pxDefaultSize
				label={ __( 'Email' ) }
				value={ subscriber.editedRecord.email }
				onChange={ setEmail }
			/>
			<button type="submit">{ __( 'Save' ) }</button>
		</form>
	);
}

// Rendered in the application:
// <SubscriberForm id={ 1 } />
```

In the above example, updating and saving the subscriber email is handled
via the `edit()` and `save()` mutation helpers provided by
`useRecord()`;

_Parameters_

-   _namespace_ `string`: Namespace e.g, noptin.
-   _collection_ `string`: Collection e.g, `subscribers`.
-   _recordId_ `CollectionRecordKey`: ID of the requested record.
-   _options_ `Options`: Optional hook options.

_Returns_

-   `RecordResolution< RecordType >`: Entity record data.

### useCollectionRecords

Resolves the specified collection records.

_Usage_

```js
import { useRecords } from '@hizzlewp/store';

function SubscribersList() {
  const { records, isResolving, error } = useRecords( 'noptin', 'subscribers' );

  if ( isResolving ) {
    return 'Loading...';
  }

  if ( error ) {
    return 'Error: ' + error.message;
  }

  return (
    <ul>
      {records.map(( subscriber ) => (
        <li>{ subscriber.email }</li>
      ))}
    </ul>
  );
}

// Rendered in the application:
// <SubscribersList />
```

In the above example, when `SubscribersList` is rendered into an
application, the list of records and the resolution details will be retrieved from
the store state using `getCollectionRecords()`, or resolved if missing.

_Parameters_

-   _namespace_ `string`: Namespace of the entity, e.g. `noptin`.
-   _collection_ `string`: Collection of the entity, e.g. `subscribers`.
-   _queryArgs_ `Record< string, unknown >`: Optional HTTP query description for how to fetch the data, passed to the requested API endpoint.
-   _options_ `Options`: Optional hook options.

_Returns_

-   `EntityRecordsResolution< RecordType >`: Collection records data.

_Changelog_

`6.1.0` Introduced in WordPress core.

### useCollectionRecordTabContent

Resolves the specified collection record's tab content.

_Usage_

```js
import { useCollectionRecordTabContent } from '@hizzlewp/store';

function SubscriberDisplay( { id } ) {
  const { data: overview, isResolving, error } = useCollectionRecordTabContent( 'noptin', 'subscribers', id, 'overview );

  if ( isResolving ) {
    return 'Loading...';
  }

  if ( error ) {
    return 'Error: ' + error.message;
  }

  return <RenderOverview overview={ overview } />
}
```

_Parameters_

-   _namespace_ `string`: Namespace e.g, noptin.
-   _collection_ `string`: Collection e.g, `subscribers`.
-   _recordId_ `CollectionRecordKey`: ID of the requested record.
-   _tabName_ `string`: The tab name, e.g, overview.

_Returns_

-   Entity record overview.

### useProvidedCollection

Hook that returns the current collection.

_Returns_

-   `NamespaceCollection|undefined`: The collection config from context.

### useProvidedCollectionConfig

Hook that returns the current collection config.

### useProvidedRecordId

Hook that returns the closest current record ID.

_Parameters_

-   _namespace_ `string`: The namespace of the collection to use, if not provided, the current namespace will be used.
-   _collection_ `string`: The collection name to use, if not provided, the current collection will be used.

_Returns_

-   `number|undefined`: The current record ID from context.

### useRecordProp

Hook that returns the value and a setter for the specified property of the nearest provided record of the specified namespace and collection.

_Parameters_

-   _namespace_ `string`: The record namespace.
-   _collection_ `string`: The record collection.
-   _prop_ `string`: The property name.
-   _\_id_ `[number|string]`: An entity ID to use instead of the context-provided one.

_Returns_

-   `[*, Function, *]`: An array where the first item is the property value, the second is the setter and the third is the full value object from REST API containing more information like `raw`, `rendered` and `protected` props.


<!-- END TOKEN(Autogenerated hooks|src/hooks/index.ts) -->
